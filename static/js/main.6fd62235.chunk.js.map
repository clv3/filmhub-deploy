{"version":3,"sources":["redux/User/user.types.js","redux/User/user.reducer.js","redux/rootReducer.js","redux/createStore.js","firebase/config.js","firebase/utils.js","redux/User/user.actions.js","CreateReview.js","ShowReview.js","ShowAllReviews.js","NavBar.js","Viewings2.js","Utils/index.js","components/AdminToolbar/index.js","customHooks/useAuth.js","customHooks/useAdminAuth.js","hoc/withAuth.js","hoc/withAdminAuth.js","components/Header/index.js","components/Footer/index.js","layouts/MainLayout.js","layouts/HomepageLayout.js","assets/FilmHub1.png","assets/FilmHub2.png","components/Directory/index.js","pages/Homepage/index.js","components/AuthWrapper/index.js","components/forms/FormInput/index.js","components/forms/Button/index.js","components/Signup/index.js","pages/Registration/index.js","components/SignIn/index.js","pages/Login/index.js","components/EmailPassword/index.js","pages/Recovery/index.js","pages/Dashboard/index.js","pages/Admin/UpdateName.js","pages/Admin/index.js","pages/Posts/PostList.js","pages/Posts/index.js","App.js","index.js"],"names":["userTypes","SET_CURRENT_USER","SIGN_IN_SUCCESS","SIGN_UP_SUCCESS","SIGN_UP_ERROR","RESET_PASSWORD_SUCCESS","RESET_PASSWORD_ERROR","RESET_AUTH_FORMS","INITIAL_STATE","currentUser","signInSuccess","signUpSuccess","signUpError","resetPasswordSuccess","resetPasswordError","userReducer","state","action","type","payload","combineReducers","user","middlewares","thunk","logger","store","createStore","rootReducer","applyMiddleware","firebaseConfig","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","storage","auth","GoogleProvider","GoogleAuthProvider","setCustomParameters","prompt","handleUserProfile","userAuth","additionalData","a","uid","userRef","doc","get","exists","displayName","email","timestamp","Date","userRoles","set","createdDate","setCurrentUser","resetAllAuthForms","resetPassword","dispatch","config","url","sendPasswordResetEmail","then","catch","CreateReview","scrollType","useState","openCreate","setOpenCreate","image","setImage","imageURL","setImageURL","title","setTitle","movie","setMovie","rating","setRating","review","setReview","progressBar","setProgressBar","likeNum","React","scroll","setScroll","close","descElement","useRef","useEffect","descriptionElement","current","focus","className","Dialog","open","closeIt","fullWidth","maxWidth","class","onClick","src","photoURL","value","onChange","e","target","rows","placeholder","maxLength","required","readOnly","files","URL","createObjectURL","accept","max","event","document","getElementsByClassName","classList","remove","disabled","add","console","log","preventDefault","collection","FieldValue","serverTimestamp","imageUrl","username","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","alert","message","child","getDownloadURL","length","ShowReview","reviewId","reviewUserId","comments","setComments","comment","setComment","show","setShow","show2","setShow2","setReviewImage","reviewUser","setReviewUser","onSnapshot","data","allReviews","orderBy","docs","map","doc2","docc","likes","update","delete","onSubmit","text","uuid","Avatar","alt","maxlength","ShowAllReviews","history","useHistory","reviews","setReviews","id","setTimeout","push","NavBar","href","Viewings2","props","showings","wk2showings","database","val","newState","location","date","setState","wk2newState","wk2show","wk2title","wk2location","wk2date","this","Component","checkUserIsAdmin","Array","isArray","includes","mapState","AdminToolbar","useSelector","to","useAuth","useAdminAuth","WithAuth","children","WithAdminAuth","Header","signOut","defaultProps","Footer","MainLayout","HomepageLayout","Directory","style","backgroundImage","FilmHub1","FilmHub2","Homepage","AuthWrapper","headline","FormInput","handleChange","label","otherProps","Button","withRouter","useDispatch","setDisplayName","setEmail","password","setPassword","confirmPassword","setConfirmPassword","errors","setErrors","reset","err","index","createUserWithEmailAndPassword","signUpUser","Registration","resetForm","signInWithEmailAndPassword","signInUser","signInWithPopup","Login","handleSubmit","Recovery","projectFirestore","Dashboard","bioUser","bio","userName","userEmail","setBio","usersFire","setUsersFire","file","setFile","setReviewsFiles","userInfo","onFileChange","storageRef","fileRef","window","reload","where","userWant","fetchUsers","userGet","fetchReviews","fire","width","height","UpdateName","users","setName","userNames","setNameUser","showing","setShowing","userNewNames","onUpdate","onUpdateEmail","fetchData","toString","arrayUnion","arrayRemove","Users","setUsers","PostList","Posts","App","authListener","onAuthStateChanged","exact","path","render","Admin","ReactDOM","StrictMode","getElementById"],"mappings":"kpBAUeA,EAVG,CACdC,iBAAkB,mBAClBC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,cAAe,gBACfC,uBAAwB,yBACxBC,qBAAsB,uBACtBC,iBAAkB,oBCLhBC,EAAgB,CAClBC,YAAa,KACbC,eAAe,EACfC,eAAe,EACfC,YAAa,GACbC,sBAAsB,EACtBC,mBAAoB,IAkDTC,EA/CK,WAAkC,IAAjCC,EAAgC,uDAA1BR,EAAeS,EAAW,uCACjD,OAAOA,EAAOC,MACV,KAAKlB,EAAUC,iBACX,OAAO,2BACAe,GADP,IAEIP,YAAaQ,EAAOE,UAExB,KAAKnB,EAAUE,gBACX,OAAO,2BACAc,GADP,IAEIN,cAAeO,EAAOE,UAE1B,KAAKnB,EAAUG,gBACX,OAAO,2BACAa,GADP,IAEIL,cAAeM,EAAOE,UAG9B,KAAKnB,EAAUI,cACX,OAAO,2BACAY,GADP,IAEIJ,YAAaK,EAAOE,UAE5B,KAAKnB,EAAUK,uBACX,OAAO,2BACAW,GADP,IAEIH,qBAAsBI,EAAOE,UAErC,KAAKnB,EAAUM,qBACX,OAAO,2BACCU,GADR,IAEKF,mBAAoBG,EAAOE,UAEpC,KAAKnB,EAAUO,iBACX,OAAO,2BACAS,GADP,IAEIN,eAAe,EACfC,eAAe,EACfP,cAAe,GACfS,sBAAsB,EACtBC,mBAAoB,KAEpC,QACI,OAAOE,IClDJI,cAAgB,CAC3BC,KAAMN,ICCGO,EAAc,CAACC,IAAOC,KAIpBC,EAFMC,YAAYC,EAAaC,IAAe,WAAf,EAAmBN,I,+CCJpDO,G,kBAAiBC,IAASC,cAAc,CACnDC,OAAQ,0CACRC,WAAY,gCACZC,YAAa,uEACbC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,+CAIGC,EAAKV,EAAeW,YAEpBC,GADOX,IAASY,OACNZ,IAASW,WCVlBC,EAAOZ,IAASY,OAChBF,EAAYV,IAASU,YAErBG,EAAiB,IAAIb,IAASY,KAAKE,mBAChDD,EAAeE,oBAAoB,CAAEC,OAAQ,mBAMtC,IAAMC,EAAiB,uCAAG,WAAOC,EAAUC,GAAjB,yBAAAC,EAAA,yDACxBF,EADwB,wDAErBG,EAAQH,EAARG,IAEFC,EAAUZ,EAAUa,IAAV,gBAAuBF,IAJV,SAKNC,EAAQE,MALF,iBAOfC,OAPe,wBAQjBC,EAAuBR,EAAvBQ,YAAaC,EAAUT,EAAVS,MACfC,EAAY,IAAIC,KAChBC,EAAY,CAAC,QAVM,oBAafR,EAAQS,IAAR,aACFL,cACAC,QACAK,YAAaJ,EACbE,aACGX,IAlBc,4FA0BtBG,GA1BsB,2DAAH,wDCdjBW,EAAiB,SAAA1C,GAAI,MAAK,CACnCH,KAAMlB,EAAUC,iBAChBkB,QAASE,IAGA2C,EAAoB,iBAAO,CACpC9C,KAAMlB,EAAUO,mBA4CP0D,EAAgB,SAAC,GAAD,IAAGR,EAAH,EAAGA,MAAH,8CAAe,WAAMS,GAAN,eAAAhB,EAAA,6DAClCiB,EAAS,CACXC,IAAI,+BAFgC,kBAM9B1B,EAAK2B,uBAAuBZ,EAAOU,GACpCG,MAAK,WACFJ,EAAS,CACLhD,KAAMlB,EAAUK,uBAChBc,SAAS,OAIZoD,OAAM,WAEHL,EAAS,CACLhD,KAAMlB,EAAUM,qBAChBa,QAHQ,CAAC,2CAfW,8GAAf,uD,2EC+NdqD,MA3Qf,WAAyB,IAAD,QAwBDC,EAvBfpD,EAAOS,IAASY,OAAOjC,YADP,EAEciE,oBAAS,GAFvB,mBAEfC,EAFe,KAEHC,EAFG,OAGIF,mBAAS,IAHb,mBAGfG,EAHe,KAGRC,EAHQ,OAIUJ,mBAAS,IAJnB,mBAIfK,EAJe,KAILC,EAJK,OAMIN,mBAAS,IANb,mBAMfO,EANe,KAMRC,EANQ,OAOIR,mBAAS,IAPb,mBAOfS,EAPe,KAORC,EAPQ,OAQMV,mBAAS,IARf,mBAQfW,EARe,KAQPC,EARO,OAUMZ,mBAAS,IAVf,mBAUfa,EAVe,KAUPC,EAVO,OAWgBd,mBAAS,GAXzB,mBAWfe,EAXe,KAWFC,EAXE,OAYQhB,mBAAS,GAZjB,mBAYfiB,EAZe,aAaMC,IAAMlB,SAAS,UAbrB,mBAafmB,EAbe,KAaPC,EAbO,KA8BhBC,GAAQ,WACZnB,GAAc,GACdE,EAAS,IACTE,EAAY,KAGRgB,GAAcJ,IAAMK,OAAO,MAuFjC,OArFAL,IAAMM,WAAU,WACd,GAAIvB,EAAY,CAAC,IACEwB,EAAuBH,GAAhCI,QACmB,OAAvBD,GACFA,EAAmBE,WAGtB,CAAC1B,IA+EF,sBAAK2B,UAAU,cAAf,UAEE,cAACC,EAAA,EAAD,CACEC,KAAM7B,EACN8B,QAASV,GACTF,OAAQA,EACRa,WAAS,EACTC,SAAS,KALX,SAOE,sBAAKC,MAAM,aAAX,UAEE,sBAAKA,MAAM,SAAX,UACE,oBAAIN,UAAU,kBAAd,6BACA,cAAC,IAAD,CAAWM,MAAM,aAAaC,QAASd,QAEzC,sBAAKO,UAAU,aAAf,UAEE,qBACEQ,IAAG,UAAEhF,IAASY,OAAOjC,mBAAlB,aAAE,EAA6BsG,SAClCT,UAAU,eAEZ,oBAAIA,UAAU,cAAd,mBACGxE,IAASY,OAAOjC,mBADnB,aACG,EAA6B+C,iBAKlC,sBAAKoD,MAAM,iBAAX,UACE,0BACEA,MAAM,eACNI,MAAO/B,EACPgC,SAAU,SAACC,GAAD,OAAOhC,EAASgC,EAAEC,OAAOH,QACnCI,KAAK,IACLC,YAAW,eACXC,UAAU,MACVC,UAAQ,IAEV,0BACEX,MAAM,cACNI,MAAO7B,EACP8B,SAAU,SAACC,GAAD,OAAO9B,EAAS8B,EAAEC,OAAOH,QACnCI,KAAK,IACLC,YAAW,cACXC,UAAU,MACVC,UAAQ,IAIV,qBAAKjB,UAAU,SAAf,SACE,qBAAKA,UAAU,oBAAf,SACE,yBACEU,MAAO3B,EACP4B,SAAU,SAACC,GAAD,OAAO5B,EAAU4B,EAAEC,OAAOH,QACpCO,UAAQ,EAHV,UAKE,wBAAQP,MAAM,GAAGQ,UAAQ,EAAzB,mDAGA,wBAAQR,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,iBACA,wBAAQA,MAAM,IAAd,wBAMN,0BACEV,UAAU,aACVU,MAAOzB,EACP0B,SAAU,SAACC,GAAD,OAAO1B,EAAU0B,EAAEC,OAAOH,QACpCI,KAAK,IACLC,YAAW,4CACTvF,IAASY,OAAOjC,mBADP,aACT,EAA6B+C,aAE/B8D,UAAU,aAKd,qBAAKhB,UAAU,UAAf,SACE,qBAAKM,MAAM,8CAAX,SACE,wBAAOA,MAAM,aAAb,UACE,uBACEA,MAAM,aACNK,SAlMD,SAACC,GACVA,EAAEC,OAAOM,MAAM,IACjB3C,EAASoC,EAAEC,OAAOM,MAAM,IAE1BzC,EAAY0C,IAAIC,gBAAgBT,EAAEC,OAAOM,MAAM,MA+LjCvG,KAAK,OACL0G,OAAO,YAET,uBAAMhB,MAAM,WAAZ,UACE,sBAAMA,MAAM,YAAZ,SACE,mBAAGA,MAAM,oBAEX,sBAAMA,MAAM,aAAZ,mCAEF,sBAAMA,MAAM,YAAZ,2CAKF,qBAAKA,MAAM,gBAAX,SACJ,qBAAKA,MAAK,wBAAmB/B,GAAS,UAAtC,SACE,qBAAKiC,IAAK/B,EAAUuB,UAAU,qBAKhC,qBAAKA,UAAU,iBAAf,SACA,0BAAUU,MAAOvB,EAAaa,UAAU,SAASuB,IAAI,UAIrD,qBAAKvB,UAAU,eAAf,SACA,wBACEO,QA/LO,SAACiB,GAWO,IAAD,GAVlBC,SAASC,uBAAuB,UAAU,IAC5CD,SAASC,uBAAuB,UAAU,GAAGC,UAAUC,OAAO,UAEhEH,SAASC,uBAAuB,aAAaG,UAAW,EACxDJ,SAASC,uBAAuB,aAAa,GAAGC,UAAUG,IAAI,YAEhD,IAAV7C,GAA4B,IAAZR,GAA2B,IAATE,GAAwB,IAATE,GACnDkD,QAAQC,IAAI,uBAEZR,EAAMS,iBACU,IAAZxD,GACFxC,EAAGiG,WAAW,WAAWJ,IAAI,CAC3B1E,UAAW5B,IAASU,UAAUiG,WAAWC,kBACzCzD,MAAOA,EACPE,MAAOA,EACPE,OAAQA,EACRE,OAAQA,EACRoD,SAAU,GACVhD,QAASA,EACTiD,SAAQ,UAAE9G,IAASY,OAAOjC,mBAAlB,aAAE,EAA6B+C,YACvCL,IAAG,OAAE9B,QAAF,IAAEA,OAAF,EAAEA,EAAM8B,MAEb4C,KACAL,EAAe,GACfJ,EAAU,IACVJ,EAAS,IACTE,EAAS,IACTI,EAAU,IACVV,EAAS,OAEQrC,EAAQoG,IAAR,iBAAsBhE,EAAMiE,OAAQC,IAAIlE,GAChDmE,GACP,iBACA,SAACC,GACC,IAAMxD,EAAcyD,KAAKC,MACtBF,EAASG,iBAAmBH,EAASI,WAAc,KAEtD3D,EAAeD,MAEjB,SAAC6D,GACCjB,QAAQC,IAAIgB,GACZC,MAAMD,EAAME,YAEd,WACE/G,EACGoG,IAAI,UACJY,MAAM5E,EAAMiE,MACZY,iBACApF,MAAK,SAACF,GAAS,IAAD,EACb7B,EAAGiG,WAAW,WAAWJ,IAAI,CAC3B1E,UAAW5B,IAASU,UAAUiG,WAAWC,kBACzCzD,MAAOA,EACPE,MAAOA,EACPE,OAAQA,EACRE,OAAQA,EACRoD,SAAUvE,EACVuB,QAASA,EACTiD,SAAQ,UAAE9G,IAASY,OAAOjC,mBAAlB,aAAE,EAA6B+C,YACvCL,IAAG,OAAE9B,QAAF,IAAEA,OAAF,EAAEA,EAAM8B,MAEb4C,KACAL,EAAe,GACfR,EAAS,IACTE,EAAS,IACTE,EAAU,IACVE,EAAU,IACVV,EAAS,cA6Hb5D,KAAK,SACL0F,MAAK,oBAAerB,EAAOoE,OAAS,GAAK,WAApC,eACHtE,EAAOsE,OAAS,GAAK,WADlB,YAEW,IAAZ5E,GAAkB,WALxB,wCAcJ,qBAAK6B,MAAM,cAAX,SACE,sBAAKA,MAAM,kBAAX,UACE,qBAAKE,IAAG,UAAEhF,IAASY,OAAOjC,mBAAlB,aAAE,EAA6BsG,SAAUH,MAAM,WACvD,uBACEI,MAAOzB,EACP0B,SAAU,SAACC,GAAD,OAAO1B,EAAU0B,EAAEC,OAAOH,QACpCH,SA1OWpC,EA0OU,OA1OK,WAClCG,GAAc,GACdkB,EAAUrB,KAyOF4C,YAAa,mC,gBC5FVuC,MAzKf,YAAkH,IAAD,IAA3FC,EAA2F,EAA3FA,SAAgBjB,GAA2E,EAAjFvH,KAAiF,EAA3EuH,UAAU3D,EAAiE,EAAjEA,MAAOE,EAA0D,EAA1DA,MAAOE,EAAmD,EAAnDA,OAAQE,EAA2C,EAA3CA,OAAQoD,EAAmC,EAAnCA,SAAUhD,EAAyB,EAAzBA,QAASmE,EAAgB,EAAhBA,aAAgB,EAC7EpF,mBAAS,IADoE,mBACtGqF,EADsG,KAC5FC,EAD4F,OAE/EtF,mBAAS,IAFsE,mBAEtGuF,EAFsG,KAE7FC,EAF6F,OAGrFxF,mBAAS,UAH4E,mBAGtGyF,EAHsG,KAGhGC,EAHgG,OAInF1F,mBAAS,cAJ0E,mBAItG2F,EAJsG,KAI/FC,EAJ+F,OAKvE5F,mBAAS,IAL8D,mBAKzF6F,GALyF,aAMzE7F,qBANyE,mBAMtG8F,EANsG,KAM1FC,EAN0F,KAkH7G,OA1GAvE,qBAAU,WACH4D,GACCvH,EAAGiG,WAAW,SAASnF,IAAIyG,GAAcY,YAAW,SAACzB,GACjDwB,EAAcxB,EAAS0B,aAIhC,CAACb,IAEJ5D,qBAAU,WACN,IAAI0E,EAMJ,OALIf,IACAe,EAAarI,EAAGiG,WAAW,WAAWnF,IAAIwG,GAAUrB,WAAW,YAAYqC,QAAQ,YAAa,QAAQH,YAAW,SAACzB,GAChHe,EAAYf,EAAS6B,KAAKC,KAAI,SAAC1H,GAAD,OAASA,EAAIsH,eAG5C,WACHC,OAEL,CAACf,IAEJ3D,qBAAU,WAAO,IAAD,EACZ3D,EAAGiG,WAAW,WACTnF,IAAIwG,GACJrB,WAAW,SACXnF,IAHL,UAGSvB,IAASY,OAAOjC,mBAHzB,aAGS,EAA6B0C,KACjCG,MACAgB,MAAK,SAAA0G,GACEA,EAAKL,SACO,UAARR,GACAC,EAAQ,eACRE,EAAS,+BAETF,EAAQ,UACRE,EAAS,qBAI1B,CAACT,EAAD,UAAW/H,IAASY,OAAOjC,mBAA3B,aAAW,EAA6B0C,MA4D/B+C,qBAAU,WACH4D,GACCvH,EAAGiG,WAAW,SAASnF,IAAIyG,GAAcY,YAAW,SAACzB,GACjDsB,EAAetB,EAAS0B,OAAO5D,eAGxC,IAGX,sBAAKT,UAAU,SAAf,UACI,qBAAKA,UAAU,aAAf,SACI,6BAAKsC,MAIT,oBAAItC,UAAU,cAAd,SAA6BrB,IAC7B,qBAAIqB,UAAU,cAAd,oBAAoCnB,KACpC,qBAAImB,UAAU,eAAd,qBAAsCjB,EAAtC,QACA,mBAAGiB,UAAU,gBAAb,SAA8Bf,IAC9B,qBAAKuB,IAAK6B,EAAUrC,UAAU,gBAG9B,qBAAKA,UAAU,cAAf,SACA,kCAAMX,EAAN,IAA2B,GAAXA,EAAe,OAAS,aAExC,uBAGA,qBAAKW,UAAU,cAAf,SACI,sBAAKA,UAAU,OAAOO,QAvFZ,SAACiB,GACnBA,EAAMS,iBACM,UAAR4B,GACAC,EAAQ,eACRE,EAAS,+BAETF,EAAQ,UACRE,EAAS,eAGb/H,EAAGiG,WAAW,WACTnF,IAAIwG,GACJvG,MACAgB,MAAK,SAAA2G,GACF,IAEsB,EAmBf,EArBDN,EAAOM,EAAKN,QAClBtC,QAAQC,IAAI6B,GACA,UAARA,GACA5H,EAAGiG,WAAW,WACTnF,IAAIwG,GACJrB,WAAW,SACXnF,IAHL,UAGSvB,IAASY,OAAOjC,mBAHzB,aAGS,EAA6B0C,KACjCG,MACAgB,MAAK,SAAA0G,GAGM,IAAD,EAFHA,EAAKL,OACLtC,QAAQC,IAAI0C,EAAKL,SAEjBpI,EAAGiG,WAAW,WAAWnF,IAAIwG,GAAUrB,WAAW,SAASnF,IAA3D,UAA+DvB,IAASY,OAAOjC,mBAA/E,aAA+D,EAA6B0C,KAAKU,IAAI,CACjGqH,MAAO,IAEX3I,EAAGiG,WAAW,WAAWnF,IAAIwG,GAAUsB,OAAO,CAC1CxF,QAASgF,EAAKhF,QAAU,QAMxCpD,EAAGiG,WAAW,WAAWnF,IAAIwG,GAAUrB,WAAW,SAASnF,IAA3D,UAA+DvB,IAASY,OAAOjC,mBAA/E,aAA+D,EAA6B0C,KAAKiI,SAAS9G,MAAK,WAC3G/B,EAAGiG,WAAW,WAAWnF,IAAIwG,GAAUsB,OAAO,CAC1CxF,QAASgF,EAAKhF,QAAU,WAiDpC,UACI,mBAAGW,UAAW6D,IACd,oBAAI7D,UAAW+D,EAAf,uBAGR,uBAGA,sBAAMgB,SAlDiB,SAACvD,GAAW,IAAD,IAC1BA,EAAMS,iBAENhG,EAAGiG,WAAW,WAAWnF,IAAIwG,GAAUrB,WAAW,YAAYJ,IAAI,CAC9DkD,KAAMrB,EACNsB,KAAI,UAAEzJ,IAASY,OAAOjC,mBAAlB,aAAE,EAA6B0C,IACnCyF,SAAQ,UAAE9G,IAASY,OAAOjC,mBAAlB,aAAE,EAA6B+C,YACvCE,UAAW5B,IAASU,UAAUiG,WAAWC,oBAG7CwB,EAAW,KAwCnB,SACI,sBAAK5D,UAAU,cAAf,UACI,cAACkF,EAAA,EAAD,CACIlF,UAAU,aACVmF,IAAI,GACJ3E,IAAG,UAAEhF,IAASY,OAAOjC,mBAAlB,aAAE,EAA6BsG,WAEtC,uBAAOT,UAAU,gBAAgBoF,UAAU,MAAMxK,KAAK,OAAOmG,YAAY,sBAAsBL,MAAOiD,EAAShD,SAAU,SAACC,GAAD,OAAOgD,EAAWhD,EAAEC,OAAOH,UACpJ,uBAAO9F,KAAK,SAASiH,UAAW8B,EAAS3D,UAAU,gBAMvDyD,EAASgB,KAAI,SAACd,GAAD,OACT,qBAAK3D,UAAS,oBAAe2D,EAAQrB,WAAR,OAAoB4B,QAApB,IAAoBA,OAApB,EAAoBA,EAAYhH,cAAe,UAA5E,SACI,sBAAKoD,MAAM,iBAAX,UACI,+BAAM,6BAAKqD,EAAQrB,aADvB,IAC6C,kCAAKqB,EAAQqB,oB,OC9GnEK,MAhDf,YAAiC,IAARtK,EAAO,EAAPA,KACfuK,EAAUC,YAAW,IADC,EAEEnH,mBAAS,IAFX,mBAErBoH,EAFqB,KAEZC,EAFY,KAwB5B,OApBAhE,SAAS9C,MAAQ,UAEjBiB,qBAAU,WACN3D,EAAGiG,WAAW,WAAWqC,QAAQ,YAAa,QAAQH,YAAW,SAAAzB,GAC7D8C,EAAW9C,EAAS6B,KAAKC,KAAI,SAAA1H,GAAG,MAAK,CACjC2I,GAAI3I,EAAI2I,GACRzG,OAAQlC,EAAIsH,iBAGrB,IAEHtC,QAAQC,IAAIxG,IAASY,OAAOjC,aAE5BwL,YAAW,WAC6B,OAAhCnK,IAASY,OAAOjC,cAChBmL,EAAQM,KAAK,UACb7D,QAAQC,IAAIxG,IAASY,OAAOjC,gBAElC,KAGE,sBAAK6F,UAAU,UAAf,UACI,cAAC,EAAD,IACA,mBAAGA,UAAU,cAAb,qBAEIwF,EAAQf,KAAI,gBAAEiB,EAAF,EAAEA,GAAIzG,EAAN,EAAMA,OAAN,OACR,cAAC,EAAD,CAAqBsE,SAAUmC,EAC/B3K,KAAMA,EACNuH,SAAUrD,EAAOqD,SACjB3D,MAAOM,EAAON,MACbE,MAAOI,EAAOJ,MACdE,OAAQE,EAAOF,OACfE,OAAQA,EAAOA,OACfoD,SAAUpD,EAAOoD,SAChBhD,QAASJ,EAAOI,QACfmE,aAAcvE,EAAOpC,KATP6I,U,OCzBtBG,MAXf,WACE,OACQ,qBAAI7F,UAAU,SAAd,UACE,oBAAIA,UAAU,SAAd,SAAuB,mBAAG8F,KAAK,kBAAR,oBACvB,oBAAI9F,UAAU,SAAd,SAAuB,mBAAG8F,KAAK,yBAAR,uBACvB,oBAAI9F,UAAU,SAAd,SAAuB,mBAAG8F,KAAK,WAAR,wBACvB,oBAAI9F,UAAU,SAAd,SAAuB,mBAAG8F,KAAK,IAAR,4B,gCCmGpBC,G,yDAtGb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IACDtL,MAAQ,CACXuL,SAAU,GACVC,YAAa,IAJE,E,qDAQnB,WAAqB,IAAD,OACF1K,IAAS2K,WAAW5D,IAAI,aAChCG,GAAG,SAAS,SAACC,GACnB,IAAIsD,EAAWtD,EAASyD,MACpBC,EAAW,GACf,IAAK,IAAIxC,KAAQoC,EACfI,EAAST,KAAK,CACZjH,MAAOsH,EAASpC,GAAMlF,MACtB2H,SAAUL,EAASpC,GAAMyC,SACzBC,KAAMN,EAASpC,GAAM0C,OAGzB,EAAKC,SAAS,CACZP,SAAUI,OAIC7K,IAAS2K,WAAW5D,IAAI,aAChCG,GAAG,SAAS,SAACC,GAClB,IAAIuD,EAAcvD,EAASyD,MACvBK,EAAc,GAClB,IAAK,IAAIC,KAAWR,EAClBO,EAAYb,KAAK,CACfe,SAAUT,EAAYQ,GAAS/H,MAC/BiI,YAAaV,EAAYQ,GAASJ,SAClCO,QAASX,EAAYQ,GAASH,OAGlC,EAAKC,SAAS,CACZN,YAAaO,S,oBAKnB,WACE,OACE,gCACE,0CACA,sBAAKzG,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SACE,oBAAIA,UAAU,SAAd,yBAEF,qBAAKA,UAAU,YAAf,SACE,wBAAOM,MAAM,iCAAb,UACE,kCACI,uCACA,0CACA,yCAGJ,gCACGwG,KAAKpM,MAAMuL,SAASxB,KAAI,SAACZ,GACxB,OACE,+BACE,6BAAKA,EAAKlF,QACV,6BAAKkF,EAAKyC,WACV,6BAAKzC,EAAK0C,oBAQtB,qBAAKvG,UAAU,SAAf,SACE,oBAAIA,UAAU,SAAd,yBAEF,qBAAKA,UAAU,YAAf,SACE,wBAAOM,MAAM,iCAAb,UACE,kCAEI,uCACA,0CACA,yCAGJ,gCACGwG,KAAKpM,MAAMwL,YAAYzB,KAAI,SAACiC,GAC3B,OACE,+BACE,6BAAKA,EAAQC,WACb,6BAAKD,EAAQE,cACb,6BAAKF,EAAQG,iC,GA3FXvH,IAAMyH,YCLjBC,EAAmB,SAAA7M,GAC5B,SAAKA,IAAgB8M,MAAMC,QAAQ/M,EAAYmD,eACzBnD,EAAdmD,UACM6J,SAAS,UCGrBC,G,OAAW,SAAC,GAAD,MAAe,CAC5BjN,YADa,EAAGY,KACEZ,eAyBPkN,EAtBM,SAAArB,GAAU,IACnB7L,EAAgBmN,YAAYF,GAA5BjN,YAGR,OADgB6M,EAAiB7M,GAI7B,qBAAK6F,UAAY,eAAjB,SACI,6BACI,+BACI,cAAC,IAAD,CAAMuH,GAAG,SAAT,sBAGA,cAAC,IAAD,CAAMA,GAAG,SAAT,+BATI,MCVlBH,GAAW,SAAC,GAAD,MAAe,CAC5BjN,YADa,EAAGY,KACEZ,cAsBPqN,GAlBC,SAAAxB,GAAU,IACd7L,EAAgBmN,YAAYF,IAA5BjN,YACR4H,QAAQC,IAAI7H,EAAa,YAEzB,IAAMmL,EAAUC,cAShB,OAPA3F,qBAAU,WACDzF,GACDmL,EAAQM,KAAK,YAGlB,CAACzL,IAEGA,GCjBLiN,GAAW,SAAC,GAAD,MAAe,CAC5BjN,YADa,EAAGY,KACEZ,cAgBPsN,GAbM,SAAAzB,GAAU,IACvB7L,EAAgBmN,YAAYF,IAA5BjN,YACFmL,EAAUC,cAQZ,OANA3F,qBAAU,WACFoH,EAAiB7M,IACjBmL,EAAQM,KAAK,YAElB,CAACzL,IAEGA,GCdIuN,GAFE,SAAA1B,GAAK,OAAIwB,GAAQxB,IAAUA,EAAM2B,UCCnCC,GAFO,SAAA5B,GAAK,OAAIyB,GAAazB,IAAUA,EAAM2B,UCOtDP,I,OAAW,SAAC,GAAD,MAAe,CAC5BjN,YADa,EAAGY,KACEZ,eAGhB0N,GAAS,SAAA7B,GAAU,IACb7L,EAAgBmN,YAAYF,IAA5BjN,YAER,OACI,wBAAQ6F,UAAW,SAAnB,SACI,sBAAKA,UAAU,OAAf,UACI,qBAAKA,UAAU,OAAf,SACI,cAAC,IAAD,CAAMuH,GAAG,QAMb,sBAAKvH,UAAU,gBAAf,UAEK7F,GACG,+BACK,6BACD,cAAC,IAAD,CAAMoN,GAAG,aAAT,0BAIA,oBAAIvH,UAAU,YAAd,SACI,sBAAMO,QAAS,kBAAMnE,EAAK0L,WAA1B,0BAOV3N,GACE,+BACA,oBAAI6F,UAAU,YAAd,SACI,cAAC,IAAD,CAAMuH,GAAG,gBAAT,wBAIJ,oBAAIvH,UAAU,YAAd,SACI,cAAC,IAAD,CAAMuH,GAAG,SAAT,iCAa5BM,GAAOE,aAAe,CAClB5N,YAAa,MAKF0N,UCzDAG,I,OAVA,SAAAhC,GACX,OACI,wBAAQhG,UAAU,SAAlB,SACI,qBAAKA,UAAU,OAAf,8BCSGiI,GAZI,SAAAjC,GACf,OACI,gCACI,cAAC,GAAD,eAAYA,IACZ,qBAAKhG,UAAU,OAAf,SACKgG,EAAM2B,WAEX,cAAC,GAAD,QCIGO,GAVQ,SAAAlC,GACnB,OACI,sBAAKhG,UAAU,aAAf,UACI,cAAC,GAAD,eAAYgG,IACPA,EAAM2B,SACX,cAAC,GAAD,QCTG,OAA0B,qCCA1B,OAA0B,qCCoC1BQ,I,OA/BG,SAAAnC,GACd,OACI,qBAAKhG,UAAU,YAAf,SACI,sBAAKA,UAAU,OAAf,UACI,qBACEA,UAAU,OACVoI,MAAO,CACLC,gBAAgB,OAAD,OAASC,GAAT,MAHnB,SAMI,2CAKJ,qBACEtI,UAAU,OACVoI,MAAO,CACLC,gBAAgB,OAAD,OAASE,GAAT,MAHnB,SAMI,kDCbLC,I,OATE,SAAAxC,GAEb,OACI,yBAAShG,UAAY,WAArB,SACG,cAAC,GAAD,QCSIyI,I,cAdK,SAAC,GAA4B,IAA1BC,EAAyB,EAAzBA,SAAUf,EAAe,EAAfA,SAC7B,OACI,qBAAK3H,UAAU,cAAf,SACI,sBAAKA,UAAU,OAAf,UACK0I,GAAW,6BAAKA,IAEjB,qBAAK1I,UAAU,WAAf,SACK2H,GAAYA,W,QCOlBgB,I,OAdG,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,MAAUC,EAAiB,yCAC1D,OACI,sBAAK9I,UAAU,UAAf,UACK6I,GACG,gCACKA,IAIT,mCAAO7I,UAAU,YAAYW,SAAUiI,GAAkBE,SCAtDC,I,OATA,SAAC,GAAiC,IAA/BpB,EAA8B,EAA9BA,SAAamB,EAAiB,6BAC5C,OACI,gDAAQ9I,UAAU,OAAU8I,GAA5B,aACKnB,OCIPP,GAAW,SAAC,GAAD,IAAGrM,EAAH,EAAGA,KAAH,MAAe,CAC5BV,cAAeU,EAAKV,cACpBC,YAAaS,EAAKT,cAoHP0O,gBAjHA,SAAAhD,GAAU,IAAD,EACgBsB,YAAYF,IAA1C/M,EADc,EACdA,cAAeC,EADD,EACCA,YACjBsD,EAAWqL,cAFK,EAGgB7K,mBAAS,IAHzB,mBAGflB,EAHe,KAGFgM,EAHE,OAII9K,mBAAS,IAJb,mBAIfjB,EAJe,KAIRgM,EAJQ,OAKU/K,mBAAS,IALnB,mBAKfgL,EALe,KAKLC,EALK,OAMwBjL,mBAAS,IANjC,mBAMfkL,EANe,KAMEC,EANF,OAOMnL,mBAAS,IAPf,mBAOfoL,EAPe,KAOPC,EAPO,KAStB7J,qBAAU,WACJvF,IACAqP,IACA9L,EAASF,KACTsI,EAAMV,QAAQM,KAAK,QAEtB,CAACvL,IAEJuF,qBAAU,WACJqH,MAAMC,QAAQ5M,IAAgBA,EAAY+I,OAAS,GACnDoG,EAAUnP,KAEf,CAACA,IAGJ,IAAMoP,EAAQ,WACVR,EAAe,IACfC,EAAS,IACTE,EAAY,IACZE,EAAmB,IACnBE,EAAU,KAmBN,OACI,cAAC,GAAD,2BALkB,CACtBf,SAAU,iBAIN,aAEQ,sBAAK1I,UAAU,WAAf,UAECwJ,EAAOnG,OAAS,GACb,6BACKmG,EAAO/E,KAAI,SAACkF,EAAKC,GACd,OACI,6BACKD,GADIC,QAUzB,uBAAM7E,SAnCG,SAAAvD,GACrBA,EAAMS,iBACNrE,EvBvBkB,SAAC,GAAD,IAAGV,EAAH,EAAGA,YAAaC,EAAhB,EAAgBA,MAAOiM,EAAvB,EAAuBA,SAAUE,EAAjC,EAAiCA,gBAAjC,8CAAsD,WAAM1L,GAAN,iBAAAhB,EAAA,yDACpEwM,IAAaE,EADuD,uBAGpE1L,EAAS,CACLhD,KAAMlB,EAAUI,cAChBe,QAHQ,CAAC,2BAFuD,mDAa7CuB,EAAKyN,+BAA+B1M,EAAOiM,GAbE,uBAa5DrO,EAb4D,EAa5DA,KAb4D,UAe9D0B,EAAkB1B,EAAM,CAAEmC,gBAfoC,QAgBpEU,EAAS,CACLhD,KAAMlB,EAAUG,gBAChBgB,SAAS,IAlBuD,4GAAtD,sDuBuBTiP,CAAW,CAChB5M,cACAC,QACAiM,WACAE,sBA6BQ,UAEI,cAAC,GAAD,CACI1O,KAAK,OACL4H,KAAK,cACL9B,MAAQxD,EACR6D,YAAY,YACZJ,SAAU,SAAAC,GAAC,OAAIsI,EAAetI,EAAEC,OAAOH,UAG3C,cAAC,GAAD,CACI9F,KAAK,QACL4H,KAAK,QACL9B,MAAQvD,EACR4D,YAAY,QACZJ,SAAU,SAAAC,GAAC,OAAIuI,EAASvI,EAAEC,OAAOH,UAGrC,cAAC,GAAD,CACI9F,KAAK,WACL4H,KAAK,WACL9B,MAAQ0I,EACRrI,YAAY,WACZJ,SAAU,SAAAC,GAAC,OAAIyI,EAAYzI,EAAEC,OAAOH,UAGxC,cAAC,GAAD,CACI9F,KAAK,WACL4H,KAAK,kBACL9B,MAAQ4I,EACRvI,YAAY,mBACZJ,SAAU,SAAAC,GAAC,OAAI2I,EAAmB3I,EAAEC,OAAOH,UAG/C,cAAC,GAAD,CAAQ9F,KAAK,SAAb,kCCzGTmP,I,mKALX,WACI,OAAO,cAAC,GAAD,Q,GAHYhD,cCQrBK,I,cAAW,SAAC,GAAD,MAAe,CAC5BhN,cADa,EAAGW,KACIX,iBAkFT4O,gBA/EA,SAAAhD,GAAU,IACb5L,EAAkBkN,YAAYF,IAA9BhN,cACFwD,EAAWqL,cAFG,EAGM7K,mBAAS,IAHf,mBAGbjB,EAHa,KAGNgM,EAHM,OAIY/K,mBAAS,IAJrB,mBAIbgL,EAJa,KAIHC,EAJG,KAMpBzJ,qBAAU,WACFxF,IACA4P,IACApM,EAASF,KACTsI,EAAMV,QAAQM,KAAK,QAExB,CAACxL,IAGR,IAAM4P,EAAY,WACdb,EAAS,IACTE,EAAY,KAiBR,OACI,cAAC,GAAD,2BALc,CACdX,SAAU,UAIV,aACI,qBAAK1I,UAAU,WAAf,SACI,uBAAM+E,SAjBL,SAAAnE,GACjBA,EAAEqB,iBACFrE,EzB1BsB,SAAC,GAAD,IAAGT,EAAH,EAAGA,MAAOiM,EAAV,EAAUA,SAAV,8CAAyB,WAAMxL,GAAN,SAAAhB,EAAA,+EAErCR,EAAK6N,2BAA2B9M,EAAOiM,GAFF,OAG3CxL,EAAS,CACLhD,KAAMlB,EAAUE,gBAChBiB,SAAS,IAL8B,uGAAzB,sDyB0BbqP,CAAW,CAAC/M,QAAOiM,eAeZ,UAEI,cAAC,GAAD,CACIxO,KAAK,QACL4H,KAAK,QACL9B,MAAOvD,EACP4D,YAAY,QACZ6H,aAAc,SAAAhI,GAAC,OAAIuI,EAASvI,EAAEC,OAAOH,UAGzC,cAAC,GAAD,CACI9F,KAAK,WACL4H,KAAK,WACL9B,MAAO0I,EACPrI,YAAY,WACZ6H,aAAc,SAAAhI,GAAC,OAAIyI,EAAYzI,EAAEC,OAAOH,UAG5C,cAAC,GAAD,CAAQ9F,KAAK,SAAb,mBAIA,qBAAKoF,UAAU,eAAf,SACI,qBAAKA,UAAU,MAAf,SACI,cAAC,GAAD,CAAQO,QAnCb,WACvB3C,EzBuC4B,uCAAM,WAAMA,GAAN,SAAAhB,EAAA,+EAIzBR,EAAK+N,gBAAgB9N,GAC1B2B,MAAK,WACFJ,EAAS,CACLhD,KAAMlB,EAAUE,gBAChBiB,SAAS,OARc,8GAAN,wDyBLA,qCAKR,qBAAKmF,UAAU,QAAf,SACI,cAAC,IAAD,CAAMuH,GAAG,YAAT,yCC5Eb6C,GAJD,SAAApE,GACV,OAAO,cAAC,GAAD,KCMLoB,I,OAAW,SAAC,GAAD,IAAGrM,EAAH,EAAGA,KAAH,MAAe,CAC5BR,qBAAsBQ,EAAKR,qBAC3BC,mBAAoBO,EAAKP,sBAqEdwO,gBAlEO,SAAAhD,GAAU,IAAD,EAC0BsB,YAAYF,IAAzD7M,EADmB,EACnBA,qBAAsBC,EADH,EACGA,mBACxBoD,EAAWqL,cAFU,EAGD7K,mBAAS,IAHR,mBAGpBjB,EAHoB,KAGbgM,EAHa,OAIC/K,mBAAS,IAJV,mBAIpBoL,EAJoB,KAIZC,EAJY,KAM3B7J,qBAAU,WACFrF,IACAqD,EAASF,KACTsI,EAAMV,QAAQM,KAAK,aAExB,CAACrL,IAEJqF,qBAAU,WACFqH,MAAMC,QAAQ1M,IAAuBA,EAAmB6I,OAAS,GACjEoG,EAAUjP,KAEf,CAACA,IAEJ,IAAM6P,EAAY,uCAAG,WAAOzJ,GAAP,SAAAhE,EAAA,sDACjBgE,EAAEqB,iBACFrE,EAASD,EAAc,CAAER,WAFR,2CAAH,sDAUd,OACI,cAAC,GAAD,2BANsB,CACtBuL,SAAU,mBAKV,aACI,sBAAK1I,UAAU,WAAf,UAEKwJ,EAAOnG,OAAS,GACb,6BACKmG,EAAO/E,KAAI,SAAC7D,EAAEgJ,GACX,OACG,6BACEhJ,GADOgJ,QASxB,uBAAM7E,SAAUsF,EAAhB,UAEA,cAAC,GAAD,CACIzP,KAAK,QACL4H,KAAK,QACL9B,MAAOvD,EACP4D,YAAY,QACZJ,SAAU,SAAAC,GAAC,OAAIuI,EAASvI,EAAEC,OAAOH,UAGrC,cAAC,GAAD,CAAQ9F,KAAK,SAAb,wCChEL0P,GAJE,SAAAtE,GACb,OAAO,cAAC,GAAD,KCaL/J,I,OAAKV,EAAeW,aACpBqO,GAAmB/O,IAASU,YA6KnBsO,GA3KU,SAAC,GAAkB,EAAjBzP,KAAiB,EAAXiL,MAAY,IAAD,EACV5H,mBAAS,MADC,mBAOhCjE,GAPgC,UAOhBmN,aAHP,SAAC,GAAD,MAAe,CAC5BnN,YADa,EAAGY,KACEZ,gBAEdA,aAEFuL,EAAKvL,EAAYuL,GACjBlD,EAAOrI,EAAY+C,YACnBuN,EAAUtQ,EAAYuQ,IAC5B3I,QAAQC,IAAI0D,EAAI,gBAZwB,IA8BpCiF,EAAUC,EA9B0B,EAclBxM,mBAASqM,GAdS,mBAcjCC,EAdiC,KAc5BG,EAd4B,QAgBlBN,GAAiBrI,WAAW,SAASnF,IAAI2I,GAE7BtH,mBAAS,KAlBH,mBAkBjC0M,EAlBiC,KAkBtBC,EAlBsB,OAqBR3M,mBAAS,GArBD,gCAsBdA,mBAAS,OAtBK,gCAuBlBA,mBAAS,OAvBS,gCAwBfA,mBAAS,OAxBM,mBAwBjC4M,EAxBiC,KAwB3BC,EAxB2B,OAyBJ7M,mBAAS,IAzBL,mBAyBjCoH,EAzBiC,KAyBxB0F,EAzBwB,KA2BpCC,EAAW3P,IAASY,OAAOjC,YAC/B4H,QAAQC,IAAImJ,EAAU,kBAIN,MAAZA,IACAR,EAAWQ,EAASjO,YACpB0N,EAAYO,EAAShO,MACVgO,EAAS7N,UACT6N,EAAS3N,aAGxB,IAAM4N,EAAY,uCAAG,WAAOxK,GAAP,mBAAAhE,EAAA,6DACXoO,EAAOpK,EAAEC,OAAOM,MAAM,GACtBkK,EAAa9P,EAAeY,UAAUoG,MACtC+I,EAAUD,EAAWlI,MAAM6H,EAAKxI,MAHrB,SAIX8I,EAAQ7I,IAAIuI,GAJD,mBAKjBC,EALiB,SAKHK,EAAQlI,iBALL,8EAAH,sDAQZ2B,EAAQ,uCAAG,WAAOnE,GAAP,SAAAhE,EAAA,yDACbgE,EAAEqB,iBACFsJ,OAAOjF,SAASkF,QAAO,GACnBR,EAHS,iEAMP/O,GAAGiG,WAAW,SAASnF,IAAI2I,GAAIb,OAAO,CACxCtG,MAAOyM,IAPE,2CAAH,sDAkDd,OAhCApL,qBAAU,YACU,uCAAG,4BAAAhD,EAAA,sEACQX,GAAGiG,WAAW,SAASuJ,MAAM,cAAe,KAAMjJ,GACxExF,MAFc,OACT0O,EADS,OAGfX,EACIW,EAASlH,KAAKC,KAAI,SAAC1H,GACf,OAAOA,EAAIsH,WAGjBtC,QAAQC,IAAI0J,EAAU,YART,2CAAH,qDAUhBC,KACD,IAEH/L,qBAAU,YACY,uCAAG,4BAAAhD,EAAA,sEACKX,GAAGiG,WAAW,WAAWuJ,MAAM,MAAO,KAAM/F,GACjE1I,MAFgB,OACX4O,EADW,OAGjBV,EACIU,EAAQpH,KAAKC,KAAI,SAAC1H,GACd,OAAOA,EAAIsH,WALF,2CAAH,qDAUlBwH,KACD,IAEH9J,QAAQC,IAAI8I,EAAW,QAEvB/I,QAAQC,IAAIwD,EAAS,kBAGjB,sBAAKxF,UAAU,OAAf,UACK,oBAAIA,UAAU,4DAAd,4BAED,sBAAKA,UAAU,sFAAf,UACI,sBAAKA,UAAU,MAAf,UACA,oBAAGA,UAAU,QAAb,oBAA6B2K,KAC7B,oBAAG3K,UAAU,aAAb,sBAAoC4K,QAEpC,uBACA,uBAGA,6BACKE,EAAUrG,KAAI,SAACqH,GACZ,OACI,+BACI,mBAAG9L,UAAU,cACb,qBAAKA,UAAU,wBAAwB+L,MAAM,MAAMC,OAAO,MAAMxL,IAAKsL,EAAKvN,MAAO4G,IAAK2G,EAAKtJ,SAFtFsJ,EAAKtJ,WAQ1B,uBAAMuC,SAAUA,EAAhB,UACA,uBAAO/E,UAAU,qEAAqEpF,KAAK,OAAO+F,SAAUyK,IAC5G,wBAAQpL,UAAU,sEAAlB,qBAGI,uBACA,uBACA,uBACJ,0BAAWA,UAAU,cAAcc,KAAK,IAAIE,UAAU,MACtDN,MAAOgK,EACP/J,SAAU,SAAAC,GACRiK,EAAOjK,EAAEC,OAAOH,UAGpB,wBAAQV,UAAU,qDAAqDO,QA7E7D,WAEhBtE,GAAGiG,WAAW,SAASnF,IAAI2I,GAAIb,OAAO,CACpC6F,IAAMA,KA0EF,wBAIE,uBACA,uBACA,uBAEA,0BAIJ,uBACI,uBACJ,oBAAI1K,UAAU,aAAd,qBACA,uBACA,qBAAKA,UAAU,iBAAf,SACKwF,EAAQf,KAAI,SAACxF,GACN,OACI,gCACI,uBACJ,sBAAKe,UAAU,iCAAf,UAAiDf,EAAOJ,MAAxD,OACA,mBAAGmB,UAAU,eAAb,SAA6Bf,EAAOA,SACpC,+BAKhB,4BChLCgN,I,MAAa,SAAC,GAA4B,IAA1BlR,EAAyB,EAAzBA,KAAyB,KAAnBmR,MAAmB,EAAZlG,MACT5H,mBAASrD,EAAKmC,cADO,mBAC7CA,EAD6C,KAChCiP,EADgC,OAEnB/N,mBAASrD,EAAKmC,aAFK,mBAE7CkP,EAF6C,KAElCC,EAFkC,OAG1BjO,mBAASrD,EAAKoC,OAHY,mBAG7CA,EAH6C,KAGtCgM,EAHsC,OAItB/K,oBAAS,GAJa,mBAI7CkO,EAJ6C,KAIpCC,EAJoC,OAKbnO,mBAAS,GALI,mBAK7CoO,EAL6C,aAQ9BpO,mBAAS,KARqB,6BASpD2D,QAAQC,IAAI9E,EAAa,WACzB6E,QAAQC,IAAIjH,EAAM,oBAEPA,EAAKmC,YAEhB6E,QAAQC,IAAIoK,EAAW,aAmBvBrK,QAAQC,IAAIwK,EAAc,gBAE1B,IAAMC,EAAW,WACfvQ,EACGgG,WAAW,SACXnF,IAAIhC,EAAK2K,IACTnI,IAHH,2BAGYxC,GAHZ,IAGkBmC,iBACdkP,IAAcrR,EAAKmC,YACrBqP,GAAW,GAEXA,GAAW,IAGfxK,QAAQC,IAAIsK,EAAS,oBAErB,IAAMI,EAAgB,WACpBxQ,EACGgG,WAAW,SACXnF,IAAIhC,EAAK2K,IACTnI,IAHH,2BAGYxC,GAHZ,IAGkBoC,YA0CpB,OAhBAyC,qBAAU,YACO,uCAAG,8BAAAhD,EAAA,6DACVX,EAAKT,IAASU,YADJ,SAEGD,EAAGiG,WAAW,SAASlF,MAF1B,OAEVqH,EAFU,OAGhBgI,EACEhI,EAAKG,KAAKC,KAAI,SAAC1H,GAAD,mBAAC,eAAcA,EAAIsH,QAAnB,IAA2B/B,SAAUvF,EAAIG,kBAEzD6E,QAAQC,IAAIqC,EAAM,UANF,2CAAH,qDAQfsI,KACC,IAOD,qBAAK3M,UAAU,KAAf,SACE,sBAAKA,UAAU,8BAAf,UACE,yBAAQA,UAAU,oEAAlB,UACG,IADH,kBAEmB9C,GACb,eAHN,IAImB,uBAJnB,IAI0B,uBAJ1B,UAIwC,IACpCC,EAAqBpC,EAAKoC,MAAlB,WACV,uBACA,uBAPF,YAQYpC,EAAO,GAAK,OAASA,EAAKuC,aAKtC,qBAAK0C,UAAU,GAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,gCACE,sBAAKA,UAAU,QAAf,UACE,uBAAOA,UAAU,QAAjB,sBACA,sBAAKA,UAAU,oBAAf,UAEI,uBACEA,UAAU,4BACVpF,KAAK,OACLmG,YAAY,aACZL,MAAOxD,EACPyD,SAAU,SAACC,GACTuL,EAAQvL,EAAEC,OAAOH,UAIvB,sBAAMV,UAAU,GAAhB,SACE,mBAAGA,UAAU,kBAEf,sBAAMA,UAAU,GAAhB,SACE,mBAAGA,UAAU,sBAMb9C,IAAgBnC,EAAKmC,aACrBA,EAAYiK,SAASiF,EAAUQ,YAG7B,8BACE,oBAAG5M,UAAU,2BAAb,yDAC+C,SAIzC9C,EASVA,GAAenC,EAAKmC,aACpBA,EAAYmG,QAAU,EAGpB,gCACE,oBAAGrD,UAAU,4BAAb,sCAC4B,OAE5B,wBACEA,UAAU,8CACVO,QAASkM,EAFX,4BASJvP,GAAenC,EAAKmC,aACpBA,EAAYmG,OAAS,EAGnB,8BACE,oBAAGrD,UAAU,2BAAb,UACG,IADH,gDAEgD,cAR/C,EAvBH,8BACE,oBAAGA,UAAU,2BAAb,mCACyB,YA8CnC,uBACA,uBAEA,sBAAKA,UAAU,QAAf,UACE,uBAAOA,UAAU,QAAjB,sBACA,sBAAKA,UAAU,oBAAf,UAEI,uBACEA,UAAU,oCACVpF,KAAK,QACLmG,YAAY,cACZL,MAAOvD,EACPwD,SAAU,SAACC,GACTuI,EAASvI,EAAEC,OAAOH,UAIxB,sBAAMV,UAAU,GAAhB,SACE,mBAAGA,UAAU,kBAEf,sBAAMA,UAAU,GAAhB,SACE,mBAAGA,UAAU,yBAKb7C,IAAUpC,EAAKoC,MAEf,8BACE,oBAAG6C,UAAU,2BAAb,oDAC0C,SAIpC7C,EAQDA,EAAMgK,SAAS,cAEtB,gCACE,oBAAGnH,UAAU,4BAAb,sCAC4B,OAE5B,wBACEA,UAAU,8CACVO,QAASmM,EAFX,6BAQMvP,EAAMgK,SAAS,mBAApB,EAEH,8BACE,mBAAGnH,UAAU,2BAAb,4DAvBF,8BACE,oBAAGA,UAAU,2BAAb,gCACsB,SAsC9B,uBAEA,gCACE,wBACEA,UAAU,iCACVO,QA/NC,WACJ/E,IAASU,YACjBgG,WAAW,SAASnF,IAAIhC,EAAK2K,IAAIZ,UA2NxB,oBAMA,wBACE9E,UAAU,+BACVO,QAhOM,WACT/E,IAASU,YACjBgG,WAAW,SACXnF,IAAIhC,EAAK2K,IACTb,OAAO,CACNvH,UAAW9B,IAASU,UAAUiG,WAAW0K,WAAW,OAAQ,YAyNpD,wBAOA,wBACE7M,UAAU,kCACVO,QA9NM,WACT/E,IAASU,YACjBgG,WAAW,SACXnF,IAAIhC,EAAK2K,IACTb,OAAO,CACNvH,UAAW9B,IAASU,UAAUiG,WAAW2K,YAAY,YAuN7C,gCASJ,mCCrLGC,OAtCf,WAAkB,IAAD,EACazN,IAAMlB,SAAS,IAD5B,mBACN8N,EADM,KACCc,EADD,KAeb,OAXA1N,IAAMM,WAAU,YACC,uCAAG,8BAAAhD,EAAA,6DACVX,EAAKT,IAASU,YADJ,SAEGD,EAAGiG,WAAW,SAASlF,MAF1B,OAEVqH,EAFU,OAGhB2I,EAAS3I,EAAKG,KAAKC,KAAI,SAAA1H,GAAG,kCAAUA,EAAIsH,QAAd,IAAsBqB,GAAI3I,EAAI2I,SAHxC,2CAAH,qDAKfiH,KACC,IAKC,oBAAI3M,UAAW,gEAAf,SACGkM,EAAMzH,KAAI,SAAA1J,GAAI,OACX,8BACF,qBAAIiF,UAAU,OAAd,UACgB,uBACJ,cAAC,GAAD,CAAYjF,KAAMA,EAAMmR,MAAOA,OAFjBnR,EAAKmC,YAAanC,EAAKoC,MAAOpC,YCtGvDkS,I,OAAW,SAAC,GAAgB,IAAdhO,EAAa,EAAbA,OAQzB,OACE,mCACE,sBAAKe,UAAU,gCAAf,UACE,sBAAKA,UAAU,MAAf,UAAsBf,EAAOqD,SAA7B,MAA0CrD,EAAOA,UACnD,wBAAQe,UAAU,6BAA6BO,QATlC,WACJ/E,IAASU,YACjBgG,WAAW,WAAWnF,IAAIkC,EAAOyG,IAAIZ,UAOtC,2BCoBSoI,OA9Bf,WAAkB,IAAD,EACe5N,IAAMlB,SAAS,IAD9B,mBACRoH,EADQ,KACCC,EADD,KAef,OAXAnG,IAAMM,WAAU,YACC,uCAAG,8BAAAhD,EAAA,6DACVX,EAAKT,IAASU,YADJ,SAEGD,EAAGiG,WAAW,WAAWlF,MAF5B,OAEVqH,EAFU,OAGhBoB,EAAWpB,EAAKG,KAAKC,KAAI,SAAA1H,GAAG,kCAAUA,EAAIsH,QAAd,IAAsBqB,GAAI3I,EAAI2I,SAH1C,2CAAH,qDAKfiH,KACC,IAKD,6BACGnH,EAAQf,KAAI,SAAAxF,GAAM,OACf,8BACF,6BACE,cAAC,GAAD,CAAUA,OAAQA,KADXA,EAAOqD,kBCuIT6K,I,OAvHH,SAAAnH,GAAU,IAAD,EACK5H,mBAAS,IADd,mBACZrD,EADY,KAGb6C,GAHa,KAGFqL,eAuBf,OApBArJ,qBAAU,WACR,IAAMwN,EAAehR,EAAKiR,mBAAL,+BAAAzQ,EAAA,MAAwB,WAAMF,GAAN,SAAAE,EAAA,0DACvCF,EADuC,gCAEnBD,EAAkBC,GAFC,cAGjC0H,YAAW,SAAAzB,GACjB/E,EAASH,EAAe,aACtBiI,GAAI/C,EAAS+C,IACV/C,EAAS0B,aANyB,OAW7CzG,EAASH,EAAef,IAXqB,2CAAxB,uDAcvB,OAAO,WACL0Q,OAED,IAGC,sBAAKpN,UAAU,MAAf,UACE,cAAC,EAAD,IACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOsN,OAAK,EAACC,KAAK,kBAAkBC,OAAQ,kBAC1C,eAAC,GAAD,WACE,cAAC,EAAD,IACA,cAAC,GAAD,UAIJ,cAAC,IAAD,CAAOD,KAAK,gBAAiBC,OAAQ,kBACnC,cAAC,GAAD,UACE,cAAC,GAAD,SAIJ,cAAC,IAAD,CAAOD,KAAK,SACVC,OAAQ,kBACN,eAAC,GAAD,WACE,cAAC,EAAD,IACA,cAAC,GAAD,UAKJ,cAAC,IAAD,CAAOD,KAAK,YAAYC,OAAQ,kBAC9B,eAAC,GAAD,WACE,cAAC,EAAD,IACA,cAAC,GAAD,UAIJ,cAAC,IAAD,CAAOD,KAAK,aAAaC,OAAQ,kBAC/B,cAAC,GAAD,UACA,eAAC,GAAD,WACA,cAAC,EAAD,IACE,cAAC,GAAD,YAKJ,cAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAC3B,cAAC,GAAD,UACA,eAAC,GAAD,WACA,cAAC,EAAD,IACE,cAACC,GAAD,YAKlB,cAAC,IAAD,CAAOF,KAAK,SAASC,OAAQ,kBACb,cAAC,GAAD,UACA,eAAC,GAAD,WACA,cAAC,EAAD,IACE,cAAC,GAAD,YASJ,cAAC,IAAD,CAAOD,KAAK,0BAAZ,SACE,sBAAKvN,UAAU,cAAf,UACA,cAAC,EAAD,IACA,cAAC,GAAD,UACF,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,aAAf,SACE,cAAC,EAAD,CAAgBjF,KAAMA,eAQ5B,cAAC,IAAD,CAAOwS,KAAK,YAAZ,SACC,sBAAKvN,UAAU,cAAf,UACG,cAAC,EAAD,IACA,cAAC,GAAD,UACF,cAAC,EAAD,mBC7Id0N,IAASF,OACP,cAAC,IAAMG,WAAP,UACE,cAAC,IAAD,CAAUxS,MAAOA,EAAjB,SACE,cAAC,IAAD,UACE,cAAC,GAAD,UAINsG,SAASmM,eAAe,U","file":"static/js/main.6fd62235.chunk.js","sourcesContent":["const userTypes = { \r\n    SET_CURRENT_USER: 'SET_CURRENT_USER',\r\n    SIGN_IN_SUCCESS: 'SIGN_IN_SUCCESS',\r\n    SIGN_UP_SUCCESS: 'SIGN_UP_SUCCESS',\r\n    SIGN_UP_ERROR: 'SIGN_UP_ERROR',\r\n    RESET_PASSWORD_SUCCESS: 'RESET_PASSWORD_SUCCESS',\r\n    RESET_PASSWORD_ERROR: 'RESET_PASSWORD_ERROR',\r\n    RESET_AUTH_FORMS: 'RESET_AUTH_FORMS'\r\n};\r\n\r\nexport default userTypes;","import userTypes from './user.types';\r\n\r\nconst INITIAL_STATE = {\r\n    currentUser: null,\r\n    signInSuccess: false,\r\n    signUpSuccess: false,\r\n    signUpError: [],\r\n    resetPasswordSuccess: false,\r\n    resetPasswordError: []\r\n};\r\n\r\nconst userReducer = (state=INITIAL_STATE, action) => {\r\n    switch(action.type) {\r\n        case userTypes.SET_CURRENT_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: action.payload\r\n            }\r\n            case userTypes.SIGN_IN_SUCCESS:\r\n                return {\r\n                    ...state,\r\n                    signInSuccess: action.payload\r\n                }\r\n                case userTypes.SIGN_UP_SUCCESS:\r\n                    return {\r\n                        ...state,\r\n                        signUpSuccess: action.payload\r\n\r\n                    }\r\n                case userTypes.SIGN_UP_ERROR:\r\n                    return {\r\n                        ...state,\r\n                        signUpError: action.payload\r\n                    }\r\n                case userTypes.RESET_PASSWORD_SUCCESS:\r\n                    return {\r\n                        ...state,\r\n                        resetPasswordSuccess: action.payload\r\n                    }\r\n                case userTypes.RESET_PASSWORD_ERROR:\r\n                    return {\r\n                         ...state,\r\n                         resetPasswordError: action.payload\r\n                    }\r\n                case userTypes.RESET_AUTH_FORMS:\r\n                    return {\r\n                        ...state,\r\n                        signInSuccess: false,\r\n                        signUpSuccess: false,\r\n                        SIGN_UP_ERROR: [],\r\n                        resetPasswordSuccess: false,\r\n                        resetPasswordError: []\r\n                    }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default userReducer;","import { combineReducers } from 'redux';\r\n\r\nimport userReducer from './User/user.reducer';\r\n\r\nexport default combineReducers({\r\n    user: userReducer\r\n});","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport rootReducer from './rootReducer';\r\n\r\nexport const middlewares = [thunk, logger];\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(...middlewares));\r\n\r\nexport default store;","import firebase from 'firebase/app';\r\nimport 'firebase/storage'\r\nimport 'firebase/firestore'\r\n\r\nexport const firebaseConfig = firebase.initializeApp({\r\n  apiKey: \"AIzaSyAzimdQR0eETXJQ1oCDPk2g9QfFPySJHcw\",\r\n  authDomain: \"react-filmhub.firebaseapp.com\",\r\n  databaseURL: \"https://react-filmhub-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"react-filmhub\",\r\n  storageBucket: \"react-filmhub.appspot.com\",\r\n  messagingSenderId: \"744011406688\",\r\n  appId: \"1:744011406688:web:a39606200dd0930b431205\"\r\n        \r\n      });\r\n\r\n      const db = firebaseConfig.firestore();\r\n      const auth = firebase.auth();\r\n      const storage = firebase.storage();\r\n    \r\n      export default { db, auth, storage };\r\n      export { db, auth, storage, firebase };\r\n      // firebase.initializeApp(firebaseConfig);\r\n\r\n      // export const firestore = firebase.firestore();\r\n      // export const storageRef = firebase.storage();\r\n\r\n     //export default firebase ;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport { firebaseConfig } from './config';\r\n\r\n// firebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport const GoogleProvider = new firebase.auth.GoogleAuthProvider();\r\nGoogleProvider.setCustomParameters({ prompt: 'select_account' });\r\n\r\n// export const userIdRef = firestore.doc().collection('/users');\r\n\r\n\r\n\r\nexport const handleUserProfile = async (userAuth, additionalData) => {\r\n    if (!userAuth) return;\r\n    const { uid } = userAuth;\r\n\r\n    const userRef = firestore.doc(`users/${uid}`);\r\n    const snapshot = await userRef.get();\r\n\r\n    if (!snapshot.exists) {\r\n        const { displayName, email } = userAuth;\r\n        const timestamp = new Date();\r\n        const userRoles = ['user']\r\n        \r\n        try {\r\n            await userRef.set({\r\n                displayName,\r\n                email,\r\n                createdDate: timestamp,\r\n                userRoles,\r\n                ...additionalData\r\n            });\r\n\r\n        } catch(err) {\r\n            // console.log(err);\r\n        }\r\n    }\r\n\r\n    return userRef;\r\n\r\n};\r\n\r\nexport default {\r\n    firestore: firestore,\r\n    auth: auth,\r\n}","import userTypes from \"./user.types\"\r\nimport { auth, handleUserProfile, GoogleProvider } from './../../firebase/utils';\r\n\r\nexport const setCurrentUser = user => ({\r\n    type: userTypes.SET_CURRENT_USER,\r\n    payload: user\r\n});\r\n\r\nexport const resetAllAuthForms = () => ({\r\n    type: userTypes.RESET_AUTH_FORMS\r\n});\r\n\r\nexport const signInUser = ({ email, password }) => async dispatch => {\r\n    try {\r\n        await auth.signInWithEmailAndPassword(email, password);\r\n        dispatch({\r\n            type: userTypes.SIGN_IN_SUCCESS,\r\n            payload: true\r\n        });\r\n      \r\n\r\n   } catch (err) {\r\n        // console.log(err);\r\n   }\r\n};\r\n\r\nexport const signUpUser = ({ displayName, email, password, confirmPassword}) => async dispatch => {\r\n        if (password !== confirmPassword) {\r\n            const err = ['Passwords don\\'t match'];\r\n            dispatch({\r\n                type: userTypes.SIGN_UP_ERROR,\r\n                payload: err\r\n            });\r\n            return;\r\n        }\r\n        \r\n\r\n        try {\r\n\r\n            const { user } = await auth.createUserWithEmailAndPassword(email, password);\r\n\r\n            await handleUserProfile(user, { displayName });\r\n            dispatch({\r\n                type: userTypes.SIGN_UP_SUCCESS,\r\n                payload: true\r\n            })\r\n           \r\n\r\n        } catch (err) {\r\n          //  console.log(err);\r\n        }\r\n};\r\n\r\nexport const resetPassword = ({ email }) => async dispatch => {\r\n    const config = {\r\n        url:'http://localhost:3000/login'\r\n    };\r\n\r\n    try {\r\n        await auth.sendPasswordResetEmail(email, config)\r\n            .then(() => {\r\n                dispatch({\r\n                    type: userTypes.RESET_PASSWORD_SUCCESS,\r\n                    payload: true\r\n                });\r\n         \r\n            })\r\n                .catch(() => {\r\n                    const err = ['Email not found. Please try again.'];\r\n                    dispatch({\r\n                        type: userTypes.RESET_PASSWORD_ERROR,\r\n                        payload: err\r\n                    })\r\n               \r\n                });\r\n\r\n\r\n        } catch (err) {\r\n            //console.log(err);\r\n        }\r\n};\r\n\r\nexport const signInWithGoogle = () => async dispatch => {\r\n\r\n    try {\r\n\r\n       await auth.signInWithPopup(GoogleProvider)\r\n       .then(() => {\r\n           dispatch({\r\n               type: userTypes.SIGN_IN_SUCCESS,\r\n               payload: true\r\n           });\r\n       });\r\n\r\n    } catch (err) {\r\n        //console.log(err);\r\n    }\r\n   \r\n\r\n};","import React, { useState } from \"react\";\r\nimport { storage, db, auth } from \"./firebase/config\";\r\nimport firebase from \"firebase\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./CreateReview.css\";\r\nimport \"bulma/css/bulma.min.css\";\r\n\r\nfunction CreateReview() {\r\n  const user = firebase.auth().currentUser;\r\n  const [openCreate, setOpenCreate] = useState(false);\r\n  const [image, setImage] = useState(\"\");\r\n  const [imageURL, setImageURL] = useState(\"\");\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  const [movie, setMovie] = useState(\"\");\r\n  const [rating, setRating] = useState(\"\");\r\n\r\n  const [review, setReview] = useState(\"\");\r\n  const [progressBar, setProgressBar] = useState(0);\r\n  const [likeNum, setLikeNum] = useState(0);\r\n  const [scroll, setScroll] = React.useState(\"paper\");\r\n\r\n  //setting images\r\n  const change = (e) => {\r\n    if (e.target.files[0]) {\r\n      setImage(e.target.files[0]);\r\n    }\r\n    setImageURL(URL.createObjectURL(e.target.files[0]));\r\n  };\r\n\r\n  //opens on click\r\n  const clickToOpen = (scrollType) => () => {\r\n    setOpenCreate(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  //handles the closing\r\n  const close = () => {\r\n    setOpenCreate(false);\r\n    setImage(\"\");\r\n    setImageURL(\"\");\r\n  };\r\n\r\n  const descElement = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    if (openCreate) {\r\n      const { current: descriptionElement } = descElement;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [openCreate]);\r\n\r\n  //makes the upload functionality work\r\n  const uploader = (event) => {\r\n    if (document.getElementsByClassName(\"hidden\")[0]) {\r\n      document.getElementsByClassName(\"hidden\")[0].classList.remove(\"hidden\");\r\n    }\r\n    document.getElementsByClassName(\"buttonCSS\").disabled = true;\r\n    document.getElementsByClassName(\"buttonCSS\")[0].classList.add(\"disabled\");\r\n\r\n    if (review == \"\" && imageURL == \"\" && title == \"\" && movie == \"\") {\r\n      console.log(\"User cannot upload\");\r\n    } else {\r\n      event.preventDefault();\r\n      if (imageURL == \"\") {\r\n        db.collection(\"reviews\").add({\r\n          timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n          title: title,\r\n          movie: movie,\r\n          rating: rating,\r\n          review: review,\r\n          imageUrl: \"\",\r\n          likeNum: likeNum,\r\n          username: firebase.auth().currentUser?.displayName,\r\n          uid: user?.uid,\r\n        });\r\n        close();\r\n        setProgressBar(0);\r\n        setRating(\"\");\r\n        setTitle(\"\");\r\n        setMovie(\"\");\r\n        setReview(\"\");\r\n        setImage(null);\r\n      } else {\r\n        const uploadIt = storage.ref(`images/${image.name}`).put(image);\r\n        uploadIt.on(\r\n          \"state_changed\",\r\n          (snapshot) => {\r\n            const progressBar = Math.round(\r\n              (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n            );\r\n            setProgressBar(progressBar);\r\n          },\r\n          (error) => {\r\n            console.log(error);\r\n            alert(error.message);\r\n          },\r\n          () => {\r\n            storage\r\n              .ref(\"images\")\r\n              .child(image.name)\r\n              .getDownloadURL()\r\n              .then((url) => {\r\n                db.collection(\"reviews\").add({\r\n                  timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                  title: title,\r\n                  movie: movie,\r\n                  rating: rating,\r\n                  review: review,\r\n                  imageUrl: url,\r\n                  likeNum: likeNum,\r\n                  username: firebase.auth().currentUser?.displayName,\r\n                  uid: user?.uid,\r\n                });\r\n                close();\r\n                setProgressBar(0);\r\n                setTitle(\"\");\r\n                setMovie(\"\");\r\n                setRating(\"\");\r\n                setReview(\"\");\r\n                setImage(null);\r\n              });\r\n          }\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"imageupload\">\r\n      {/* Dialog makes it open as a small window */}\r\n      <Dialog\r\n        open={openCreate}\r\n        closeIt={close}\r\n        scroll={scroll}\r\n        fullWidth\r\n        maxWidth=\"md\"\r\n      >\r\n        <div class=\"dialogBack\">\r\n          {/* The head of the posting section (including H1 and the closing icon) */}\r\n          <div class=\"topBar\">\r\n            <h1 className=\"review_topTitle\">Review a movie!</h1>\r\n            <CloseIcon class=\"close_icon\" onClick={close} />\r\n          </div>\r\n          <div className=\"google_all\">\r\n            {/* Shows the current logged in profile and profile image */}\r\n            <img\r\n              src={firebase.auth().currentUser?.photoURL}\r\n              className=\"google_img\"\r\n            />\r\n            <h1 className=\"google_name\">\r\n              {firebase.auth().currentUser?.displayName}\r\n            </h1>\r\n          </div>\r\n\r\n          {/* Text areas for the review title and movie name */}\r\n          <div class=\"typing_section\">\r\n            <textarea\r\n              class=\"review_title\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              rows=\"1\"\r\n              placeholder={`Review title`}\r\n              maxLength=\"100\"\r\n              required\r\n            />\r\n            <textarea\r\n              class=\"movie_title\"\r\n              value={movie}\r\n              onChange={(e) => setMovie(e.target.value)}\r\n              rows=\"1\"\r\n              placeholder={`Movie title`}\r\n              maxLength=\"500\"\r\n              required\r\n            />\r\n\r\n            {/* Movie rating */}\r\n            <div className=\"rating\">\r\n              <div className=\"select is-rounded\">\r\n                <select\r\n                  value={rating}\r\n                  onChange={(e) => setRating(e.target.value)}\r\n                  required\r\n                >\r\n                  <option value=\"\" readOnly>\r\n                    Please select a rating for the movie:\r\n                  </option>\r\n                  <option value=\"1\">1/5</option>\r\n                  <option value=\"2\">2/5</option>\r\n                  <option value=\"3\">3/5</option>\r\n                  <option value=\"4\">4/5</option>\r\n                  <option value=\"5\">5/5</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Review paragraph section */}\r\n            <textarea\r\n              className=\"reviewPara\"\r\n              value={review}\r\n              onChange={(e) => setReview(e.target.value)}\r\n              rows=\"4\"\r\n              placeholder={`Write your review here, ${\r\n                firebase.auth().currentUser?.displayName\r\n              }`}\r\n              maxLength=\"10000\"\r\n            />\r\n          </div>\r\n\r\n          {/* Image uploading section */}\r\n          <div className=\"imageUp\">\r\n            <div class=\"file is-centered is-white is-boxed has-name\">\r\n              <label class=\"file-label\">\r\n                <input\r\n                  class=\"file-input\"\r\n                  onChange={change}\r\n                  type=\"file\"\r\n                  accept=\"image/*\"\r\n                />\r\n                <span class=\"file-cta\">\r\n                  <span class=\"file-icon\">\r\n                    <i class=\"fas fa-upload\"></i>\r\n                  </span>\r\n                  <span class=\"file-label\">Select imageâ€¦</span>\r\n                </span>\r\n                <span class=\"file-name\">Upload a review image!</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n\r\n              <div class=\"previewImage2\">\r\n          <div class={`previewImage ${!image && \"vanish\"}`}>\r\n            <img src={imageURL} className=\"previewImage\" />\r\n          </div>\r\n          </div>\r\n\r\n          {/* Shows the progress bar */}\r\n          <div className=\"progress_Align\">\r\n          <progress value={progressBar} className=\"hidden\" max=\"100\" />\r\n          </div>\r\n          \r\n          {/* The button to upload (will not work if rating or para is empty) */}\r\n          <div className=\"button_Align\">\r\n          <button\r\n            onClick={uploader}\r\n            type=\"submit\"\r\n            class={`buttonCSS ${review.length < 1 && \"disabled\"} && ${\r\n              rating.length < 1 && \"disabled\"\r\n            } ${imageURL != \"\" && \"visible\"}`}\r\n          >\r\n            Upload your review!\r\n          </button>\r\n          </div>\r\n        </div>\r\n      </Dialog>\r\n\r\n      {/* Shows the box that can be clicked to open the dialog box */}\r\n      <div class=\"createAPost\">\r\n        <div class=\"openCreateAPost\">\r\n          <img src={firebase.auth().currentUser?.photoURL} class=\"Avatar\"/>\r\n          <input\r\n            value={review}\r\n            onChange={(e) => setReview(e.target.value)}\r\n            onClick={clickToOpen(\"body\")}\r\n            placeholder= \"Create a review here!\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateReview;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { storage, db } from './firebase/config';\r\nimport {Link} from 'react-router-dom';\r\nimport firebase from  'firebase';\r\nimport { Avatar } from '@material-ui/core';\r\nimport './ShowReview.css'\r\n\r\nfunction ShowReview({ reviewId, user, username, title, movie, rating, review, imageUrl, likeNum, reviewUserId }) {\r\n    const [comments, setComments] = useState([]);\r\n    const [comment, setComment] = useState('');\r\n    const [show, setShow] = useState('likeIt');\r\n    const [show2, setShow2] = useState('likeItText');\r\n    const [reviewImage, setReviewImage] = useState('')\r\n    const [reviewUser, setReviewUser] = useState();\r\n    \r\n    useEffect(() => {\r\n        if(reviewUserId) {\r\n            db.collection('users').doc(reviewUserId).onSnapshot((snapshot) => {\r\n                setReviewUser(snapshot.data())\r\n            })\r\n        }\r\n\r\n    }, [reviewUserId])\r\n\r\n    useEffect(() => {\r\n        let allReviews;\r\n        if (reviewId) {\r\n            allReviews = db.collection(\"reviews\").doc(reviewId).collection(\"comments\").orderBy(\"timestamp\", \"desc\").onSnapshot((snapshot) => {\r\n                setComments(snapshot.docs.map((doc) => doc.data()));\r\n            });\r\n        }\r\n        return () => {\r\n            allReviews();\r\n        }\r\n    }, [reviewId]);\r\n\r\n    useEffect(() => {\r\n        db.collection(\"reviews\")\r\n            .doc(reviewId)\r\n            .collection(\"likes\")\r\n            .doc(firebase.auth().currentUser?.uid)\r\n            .get()\r\n            .then(doc2 => {\r\n                if (doc2.data()) {\r\n                    if (show == 'likeIt') {\r\n                        setShow('likeIt blue');\r\n                        setShow2('likeItText bluelikeItText')\r\n                    } else {\r\n                        setShow('likeIt');\r\n                        setShow2('likeItText')\r\n                    }\r\n                }\r\n            })\r\n    }, [reviewId, firebase.auth().currentUser?.uid]);\r\n\r\n    const changingLikes = (event) => {\r\n        event.preventDefault();\r\n        if (show == 'likeIt') {\r\n            setShow('likeIt blue');\r\n            setShow2('likeItText bluelikeItText')\r\n        } else {\r\n            setShow('likeIt');\r\n            setShow2('likeItText')\r\n        }\r\n\r\n        db.collection('reviews')\r\n            .doc(reviewId)\r\n            .get()\r\n            .then(docc => {\r\n                const data = docc.data()\r\n                console.log(show)\r\n                if (show == 'likeIt') {\r\n                    db.collection(\"reviews\")\r\n                        .doc(reviewId)\r\n                        .collection(\"likes\")\r\n                        .doc(firebase.auth().currentUser?.uid)\r\n                        .get()\r\n                        .then(doc2 => {\r\n                            if (doc2.data()) {\r\n                                console.log(doc2.data())\r\n                            } else {\r\n                                db.collection(\"reviews\").doc(reviewId).collection(\"likes\").doc(firebase.auth().currentUser?.uid).set({\r\n                                    likes: 1\r\n                                });\r\n                                db.collection('reviews').doc(reviewId).update({\r\n                                    likeNum: data.likeNum + 1\r\n                                });\r\n                            }\r\n                        })\r\n\r\n                } else {\r\n                    db.collection('reviews').doc(reviewId).collection('likes').doc(firebase.auth().currentUser?.uid).delete().then(function () {\r\n                        db.collection('reviews').doc(reviewId).update({\r\n                            likeNum: data.likeNum - 1\r\n                        });\r\n                    })\r\n                }\r\n            })\r\n        }\r\n\r\n                const commenting = (event) => {\r\n                    event.preventDefault();\r\n            \r\n                    db.collection(\"reviews\").doc(reviewId).collection(\"comments\").add({\r\n                        text: comment,\r\n                        uuid: firebase.auth().currentUser?.uid,\r\n                        username: firebase.auth().currentUser?.displayName,\r\n                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n                       //photoURL: user?.photoURL\r\n                    });\r\n                    setComment('');\r\n                }\r\n\r\n                useEffect(() => {\r\n                    if(reviewUserId) {\r\n                        db.collection('users').doc(reviewUserId).onSnapshot((snapshot) => {\r\n                            setReviewImage(snapshot.data().photoURL)\r\n                        })\r\n                    }\r\n                }, [])\r\n\r\n    return (\r\n        <div className=\"review\">\r\n            <div className=\"reviewName\">\r\n                <h2>{username}</h2>\r\n            </div>\r\n\r\n            {/* Shows the title, movie, rating and image from posts */}\r\n            <h2 className=\"reviewTitle\">{title}</h2>    \r\n            <h3 className=\"reviewMovie\">Movie: {movie}</h3>  \r\n            <h3 className=\"reviewRating\">Rating: {rating}/5</h3>    \r\n            <p className=\"reviewingPara\">{review}</p>\r\n            <img src={imageUrl} className=\"reviewImage\" />\r\n\r\n            {/* shows the likes */}\r\n            <div className=\"likeSection\">\r\n            <p > {likeNum} {likeNum == 1 ? \"Like\" : \"Likes\"}</p>\r\n            </div>\r\n            <hr/>\r\n\r\n                {/* on click for the like functionality */}\r\n            <div className=\"likeDisplay\">\r\n                <div className=\"like\" onClick={changingLikes}>\r\n                    <i className={show} />\r\n                    <h3 className={show2}>Like</h3>\r\n                </div>\r\n            </div>\r\n            <hr/>\r\n\r\n            {/* Show the commenting area */}\r\n            <form onSubmit={commenting}>\r\n                <div className=\"commentArea\">\r\n                    <Avatar\r\n                        className=\"currentAcc\"\r\n                        alt=\"\"\r\n                        src={firebase.auth().currentUser?.photoURL}\r\n                    />\r\n                    <input className=\"insertComment\" maxlength=\"300\" type=\"text\" placeholder=\"Type a comment here\" value={comment} onChange={(e) => setComment(e.target.value)} />\r\n                    <input type=\"submit\" disabled={!comment} className=\"hideIt\" />\r\n                </div>\r\n            </form>\r\n\r\n            {/* Show all the comments */}\r\n            {\r\n                comments.map((comment) => (\r\n                    <div className={`commenter ${comment.username == reviewUser?.displayName && 'myself'}`}>\r\n                        <div class=\"commentChanges\">\r\n                            <span><h3>{comment.username}</h3></span> <p> {comment.text}</p>\r\n                        </div>\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowReview\r\n","import React, {useEffect, useState} from 'react'\r\nimport {useHistory} from 'react-router-dom';\r\nimport { db, firebase } from './firebase/config.js';\r\nimport { review } from 'jquery';\r\n\r\nimport CreateReview from './CreateReview'\r\nimport ShowReview from './ShowReview'\r\nimport './ShowAllReviews.css'\r\n\r\nfunction ShowAllReviews({user}) {\r\n    const history = useHistory(\"\")\r\n    const [reviews, setReviews] = useState([]);\r\n\r\n    document.title = \"Reviews\";\r\n\r\n    useEffect(() => {\r\n        db.collection(\"reviews\").orderBy(\"timestamp\", \"desc\").onSnapshot(snapshot => {\r\n            setReviews(snapshot.docs.map(doc => ({\r\n                id: doc.id,\r\n                review: doc.data()\r\n            })))\r\n        })\r\n    }, [])\r\n\r\n    console.log(firebase.auth().currentUser);\r\n\r\n    setTimeout(function(){\r\n        if (firebase.auth().currentUser === null) {\r\n            history.push(\"/login\");\r\n            console.log(firebase.auth().currentUser);\r\n        }\r\n    },1000);\r\n\r\n    return (\r\n        <div className=\"reviews\">\r\n            <CreateReview />\r\n            <p className=\"all_Reviews\">Reviews</p>\r\n            {\r\n                reviews.map(({id, review}) => (\r\n                    <ShowReview key={id} reviewId={id} \r\n                    user={user} \r\n                    username={review.username} \r\n                    title={review.title}\r\n                     movie={review.movie} \r\n                     rating={review.rating} \r\n                     review={review.review} \r\n                     imageUrl={review.imageUrl}\r\n                      likeNum={review.likeNum}\r\n                       reviewUserId={review.uid} \r\n                       />\r\n                       \r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ShowAllReviews","import React from \"react\";\r\nimport \"./NavBar.css\";\r\n\r\nfunction NavBar() {\r\n  return (\r\n          <ul className=\"nav_ul\">\r\n            <li className=\"nav_li\"><a href=\"/filmhub-deploy\">Home</a></li>\r\n            <li className=\"nav_li\"><a href=\"filmhub-deploy/reviews\">Reviews</a></li>\r\n            <li className=\"nav_li\"><a href=\"Showings\">Showings</a></li>\r\n            <li className=\"nav_li\"><a href=\"#\">Trending</a></li>\r\n          </ul>\r\n  );\r\n}\r\n\r\nexport default NavBar;\r\n","import React, { Component } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport firebase from \"firebase\";\r\nimport \"./Viewings2.css\";\r\n\r\nclass Viewings2 extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showings: [],\r\n      wk2showings: [],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const showRef = firebase.database().ref(\"wk1movies\");\r\n    showRef.on(\"value\", (snapshot) => {\r\n      let showings = snapshot.val();\r\n      let newState = [];\r\n      for (let show in showings) {\r\n        newState.push({\r\n          title: showings[show].title,\r\n          location: showings[show].location,\r\n          date: showings[show].date,\r\n        });\r\n      }\r\n      this.setState({\r\n        showings: newState,\r\n      });\r\n    });\r\n\r\n    const wk2Ref = firebase.database().ref(\"wk2movies\");\r\n    wk2Ref.on(\"value\", (snapshot) => {\r\n      let wk2showings = snapshot.val();\r\n      let wk2newState = [];\r\n      for (let wk2show in wk2showings) {\r\n        wk2newState.push({\r\n          wk2title: wk2showings[wk2show].title,\r\n          wk2location: wk2showings[wk2show].location,\r\n          wk2date: wk2showings[wk2show].date,\r\n        });\r\n      }\r\n      this.setState({\r\n        wk2showings: wk2newState,\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Showings</h1>\r\n        <div className=\"ALL\">\r\n          <div className=\"titles\">\r\n            <h2 className=\"t_week\">This week</h2>\r\n          </div>\r\n          <div className=\"this_week\">\r\n            <table class=\"table table-dark table-striped\">\r\n              <thead>\r\n                  <th>Title</th>\r\n                  <th>Location</th>\r\n                  <th>Date</th>\r\n                \r\n              </thead>\r\n              <tbody>\r\n                {this.state.showings.map((show) => {\r\n                  return (\r\n                    <tr>\r\n                      <td>{show.title}</td>\r\n                      <td>{show.location}</td>\r\n                      <td>{show.date}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div className=\"titles\">\r\n            <h2 className=\"n_week\">Next week</h2>\r\n          </div>\r\n          <div className=\"next_week\">\r\n            <table class=\"table table-dark table-striped\">\r\n              <thead>\r\n                \r\n                  <th>Title</th>\r\n                  <th>Location</th>\r\n                  <th>Date</th>\r\n                \r\n              </thead>\r\n              <tbody>\r\n                {this.state.wk2showings.map((wk2show) => {\r\n                  return (\r\n                    <tr>\r\n                      <td>{wk2show.wk2title}</td>\r\n                      <td>{wk2show.wk2location}</td>\r\n                      <td>{wk2show.wk2date}</td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Viewings2;\r\n","export const checkUserIsAdmin = currentUser => {\r\n    if (!currentUser || !Array.isArray(currentUser.userRoles)) return false;\r\n    const { userRoles } = currentUser;\r\n    if (userRoles.includes('admin')) return true; \r\n    \r\n    return false;\r\n}","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { checkUserIsAdmin } from './../../Utils'\r\nimport './styles.scss';\r\n\r\nconst mapState = ({ user }) => ({\r\n    currentUser: user.currentUser\r\n})\r\n\r\nconst AdminToolbar = props => {\r\n    const { currentUser } = useSelector(mapState);\r\n\r\n    const isAdmin = checkUserIsAdmin(currentUser);\r\n    if(!isAdmin) return null;\r\n\r\n    return (\r\n        <div className = \"adminToolbar\">\r\n            <ul>\r\n                <li>\r\n                    <Link to=\"/admin\">\r\n                        My Admin\r\n                    </Link>\r\n                    <Link to=\"/posts\">\r\n                        User posts\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AdminToolbar;\r\n","import { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst mapState = ({ user }) => ({\r\n    currentUser: user.currentUser\r\n});\r\n\r\n\r\nconst useAuth = props => {\r\n    const { currentUser } = useSelector(mapState);\r\n    console.log(currentUser, 'userzzzz')\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if (!currentUser) {\r\n            history.push('/login');\r\n        }\r\n        \r\n    }, [currentUser]);\r\n    \r\n    return currentUser;\r\n    \r\n};\r\n\r\n\r\nexport default useAuth;","import { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { checkUserIsAdmin } from './../Utils';\r\n\r\nconst mapState = ({ user }) => ({\r\n    currentUser: user.currentUser\r\n})\r\n\r\nconst useAdminAuth = props => {\r\nconst { currentUser } = useSelector(mapState);\r\nconst history = useHistory();\r\n\r\n    useEffect(() => {\r\n        if(!checkUserIsAdmin(currentUser)) {\r\n            history.push('/login');\r\n        }\r\n    }, [currentUser] )\r\n\r\n    return currentUser;\r\n}\r\n\r\nexport default useAdminAuth;","import { useAuth } from './../customHooks';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nconst WithAuth = props => useAuth(props) && props.children;\r\n\r\nexport default WithAuth;","import { useAdminAuth } from './../customHooks'\r\n\r\nconst WithAdminAuth = props => useAdminAuth(props) && props.children;\r\n\r\nexport default WithAdminAuth;","import React from 'react' ;\r\nimport { useSelector } from 'react-redux';\r\nimport './styles.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { auth } from './../../firebase/utils';\r\n\r\nimport Logo from './../../assets/logo.png';\r\n\r\n\r\nconst mapState = ({ user }) => ({\r\n    currentUser: user.currentUser\r\n});\r\n\r\nconst Header = props => {\r\n    const { currentUser } = useSelector(mapState);\r\n\r\n    return (\r\n        <header className =\"header\">\r\n            <div className=\"wrap\">\r\n                <div className=\"logo\">\r\n                    <Link to=\"/\">\r\n                    {/* <img src={Logo} alt=\"FilmHub LOGO\" /> */}\r\n                    </Link>\r\n                </div>\r\n\r\n\r\n                <div className=\"callToActions\">\r\n\r\n                    {currentUser && (\r\n                        <ul>\r\n                             <li>\r\n                            <Link to=\"/dashboard\">\r\n                            My Account\r\n                            </Link>\r\n                        </li>\r\n                            <li className=\"log_hover\">\r\n                                <span onClick={() => auth.signOut()}>\r\n                                    LogOut\r\n                                </span>\r\n                            </li>\r\n                        </ul>\r\n                    )}   \r\n\r\n                    {!currentUser && (\r\n                        <ul>\r\n                        <li className=\"log_hover\">\r\n                            <Link to=\"/registration\">\r\n                            Register\r\n                            </Link>\r\n                        </li>\r\n                        <li className=\"log_hover\">\r\n                            <Link to=\"/login\">\r\n                            Login\r\n                            </Link>\r\n                        </li>\r\n                    </ul>\r\n                    )}\r\n                    \r\n                </div>\r\n            </div>\r\n        </header>\r\n    );   \r\n};\r\n\r\nHeader.defaultProps = {\r\n    currentUser: null\r\n};\r\n\r\n\r\n \r\nexport default Header;","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst Footer = props => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <div className=\"wrap\">\r\n                FilmHub 2020\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport Header from './../components/Header';\r\nimport Footer from './../components/Footer';\r\nconst MainLayout = props => {\r\n    return (\r\n        <div>\r\n            <Header {...props}/>\r\n            <div className=\"main\">\r\n                {props.children}\r\n            </div>\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MainLayout;","import React from 'react';\r\nimport Header from './../components/Header';\r\nimport Footer from './../components/Footer';\r\n\r\nconst HomepageLayout = props => {\r\n    return (\r\n        <div className=\"fullHeight\">\r\n            <Header {...props}/>\r\n                {props.children}\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HomepageLayout;","export default __webpack_public_path__ + \"static/media/FilmHub1.5db32c8d.png\";","export default __webpack_public_path__ + \"static/media/FilmHub2.5db32c8d.png\";","import React from 'react';\r\nimport FilmHub1 from './../../assets/FilmHub1.png';\r\nimport FilmHub2 from './../../assets/FilmHub2.png';\r\nimport './styles.scss';\r\n\r\nconst Directory = props => {\r\n    return (\r\n        <div className=\"directory\">\r\n            <div className=\"wrap\">\r\n                <div \r\n                  className=\"item\"\r\n                  style={{\r\n                    backgroundImage: `url(${FilmHub1})`\r\n                  }}\r\n                >\r\n                    <a>\r\n                       FilmHub1 \r\n                    </a>\r\n\r\n                </div>\r\n                <div\r\n                  className=\"item\"\r\n                  style={{\r\n                    backgroundImage: `url(${FilmHub2})`\r\n                  }}\r\n                >\r\n                    <a>\r\n                       FilmHub2\r\n                    </a>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Directory;","import React from 'react';\r\nimport Directory from './../../components/Directory';\r\nimport './styles.scss';\r\n\r\nconst Homepage = props => {\r\n\r\n    return (\r\n        <section className = \"homepage\">\r\n           <Directory />\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default Homepage","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst AuthWrapper = ({ headline, children }) => {\r\n    return (\r\n        <div className=\"authWrapper\">\r\n            <div className=\"wrap\">\r\n                {headline &&<h2>{headline}</h2>}\r\n\r\n                <div className=\"children\">\r\n                    {children && children}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AuthWrapper;","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst FormInput = ({ handleChange, label, ...otherProps }) => {\r\n    return (\r\n        <div className=\"formRow\">\r\n            {label && (\r\n                <label>\r\n                    {label}\r\n                </label>\r\n            )}\r\n\r\n            <input className=\"formInput\" onChange={handleChange} {...otherProps} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default FormInput;","import React from 'react';\r\nimport './styles.scss';\r\n\r\nconst Button = ({ children, ...otherProps }) => {\r\n    return (\r\n        <button className=\"btn\" {...otherProps}>\r\n            {children}\r\n        </button>\r\n\r\n    );\r\n}\r\n\r\nexport default Button","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { signUpUser, resetAllAuthForms } from './../../redux/User/user.actions';\r\nimport './styles.scss';\r\n\r\nimport AuthWrapper from './../AuthWrapper';\r\nimport FormInput from './../forms/FormInput';\r\nimport Button from './../forms/Button';\r\n\r\nconst mapState = ({ user }) => ({\r\n    signUpSuccess: user.signUpSuccess,\r\n    signUpError: user.signUpError\r\n})\r\n\r\nconst Signup = props => {\r\n  const { signUpSuccess, signUpError} = useSelector(mapState);\r\n  const dispatch = useDispatch();\r\n  const [displayName, setDisplayName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (signUpSuccess) {\r\n        reset();\r\n        dispatch(resetAllAuthForms());\r\n        props.history.push('/');\r\n    }\r\n  }, [signUpSuccess]);\r\n\r\n  useEffect(() => {\r\n    if (Array.isArray(signUpError) && signUpError.length > 0) {\r\n        setErrors(signUpError);\r\n    }\r\n}, [signUpError]);\r\n\r\n\r\nconst reset = () => {\r\n    setDisplayName('');\r\n    setEmail('');\r\n    setPassword('');\r\n    setConfirmPassword('');\r\n    setErrors([]);\r\n  };\r\n\r\n    const handleFormSubmit = event => {\r\n        event.preventDefault();\r\n        dispatch(signUpUser({\r\n            displayName,\r\n            email,\r\n            password,\r\n            confirmPassword\r\n        }));\r\n       \r\n\r\n    }\r\n\r\n    const configAuthWrapper = {\r\n        headline: 'Registration'\r\n    };\r\n    \r\n        return (\r\n            <AuthWrapper {...configAuthWrapper}>\r\n                    \r\n                    <div className=\"formWrap\">\r\n\r\n                    {errors.length > 0 && (\r\n                        <ul>\r\n                            {errors.map((err, index) => {\r\n                                return (\r\n                                    <li key={index}>\r\n                                        {err}\r\n                                    </li>\r\n                                );\r\n                            })}\r\n                        </ul>\r\n                    )}\r\n\r\n\r\n\r\n                    <form onSubmit={handleFormSubmit}>\r\n                        \r\n                        <FormInput \r\n                            type=\"text\"\r\n                            name=\"displayName\"\r\n                            value ={displayName}\r\n                            placeholder=\"Full name\"\r\n                            onChange={e => setDisplayName(e.target.value)}\r\n                        />\r\n\r\n                        <FormInput \r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            value ={email}\r\n                            placeholder=\"Email\"\r\n                            onChange={e => setEmail(e.target.value)}\r\n                        />\r\n\r\n                        <FormInput \r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value ={password}\r\n                            placeholder=\"Password\"\r\n                            onChange={e => setPassword(e.target.value)}\r\n                        />\r\n\r\n                        <FormInput \r\n                            type=\"password\"\r\n                            name=\"confirmPassword\"\r\n                            value ={confirmPassword}\r\n                            placeholder=\"Confirm Password\"\r\n                            onChange={e => setConfirmPassword(e.target.value)}\r\n                        />\r\n\r\n                        <Button type=\"submit\">\r\n                            Register\r\n                        </Button>\r\n\r\n                    </form>\r\n                    </div>\r\n                    </AuthWrapper>\r\n        );\r\n    }\r\n\r\n\r\n\r\nexport default withRouter(Signup);","import React, { Component } from 'react';\r\nimport Signup from './../../components/Signup';\r\nimport './styles.scss';\r\n\r\nclass Registration extends Component {\r\n\r\n    render() {\r\n        return <Signup />;\r\n    }\r\n}\r\n\r\nexport default Registration;","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { signInUser, signInWithGoogle, resetAllAuthForms } from './../../redux/User/user.actions';\r\n\r\n\r\nimport './styles.scss';\r\n\r\nimport AuthWrapper from './../AuthWrapper';\r\nimport FormInput from './../forms/FormInput';\r\nimport Button from './../forms/Button';\r\n\r\nconst mapState = ({ user }) => ({\r\n    signInSuccess: user.signInSuccess\r\n});\r\n\r\nconst SignIn = props => {\r\n    const { signInSuccess } = useSelector(mapState);\r\n    const dispatch = useDispatch();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (signInSuccess) {\r\n            resetForm();\r\n            dispatch(resetAllAuthForms());\r\n            props.history.push('/');\r\n        }\r\n    }, [signInSuccess]);\r\n\r\n\r\nconst resetForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n};\r\n\r\nconst handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(signInUser({email, password}));\r\n\r\n}\r\n\r\nconst handleGoogleSignIn = () => {\r\n    dispatch(signInWithGoogle());\r\n}\r\n\r\nconst configAuthWrapper = {\r\n            headline: 'LogIn'\r\n        };\r\n        \r\n        return (\r\n            <AuthWrapper {...configAuthWrapper}>\r\n                <div className=\"formWrap\">\r\n                    <form onSubmit={handleSubmit}>\r\n\r\n                        <FormInput\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            value={email}\r\n                            placeholder=\"Email\"\r\n                            handleChange={e => setEmail(e.target.value)}\r\n                            />\r\n\r\n                        <FormInput\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={password}\r\n                            placeholder=\"Password\"\r\n                            handleChange={e => setPassword(e.target.value)}\r\n                            />\r\n                        \r\n                        <Button type=\"submit\">\r\n                            LogIn\r\n                        </Button>\r\n\r\n                        <div className=\"socialSignin\">\r\n                            <div className=\"row\">\r\n                                <Button onClick={handleGoogleSignIn}>\r\n                                    Sign in with Google\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"links\">\r\n                            <Link to=\"/recovery\">\r\n                                Reset Password\r\n                            </Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                </AuthWrapper>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default withRouter(SignIn);","import React from 'react';\r\nimport './styles.scss';\r\nimport SignIn from './../../components/SignIn';\r\nconst Login = props => {\r\n    return <SignIn />\r\n};\r\n\r\nexport default Login;","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { resetPassword, resetAllAuthForms } from './../../redux/User/user.actions';\r\nimport './styles.scss';\r\n\r\nimport AuthWrapper from './../AuthWrapper';\r\nimport FormInput from './../forms/FormInput';\r\nimport Button from './../forms/Button';\r\n\r\nconst mapState = ({ user }) => ({\r\n    resetPasswordSuccess: user.resetPasswordSuccess,\r\n    resetPasswordError: user.resetPasswordError\r\n});\r\n\r\nconst EmailPassword = props => {\r\n    const { resetPasswordSuccess, resetPasswordError } = useSelector(mapState);\r\n    const dispatch = useDispatch();\r\n    const [email, setEmail] = useState('');\r\n    const [errors, setErrors] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (resetPasswordSuccess) {\r\n            dispatch(resetAllAuthForms());\r\n            props.history.push('/login');\r\n        }\r\n    }, [resetPasswordSuccess])\r\n\r\n    useEffect(() => {\r\n        if (Array.isArray(resetPasswordError) && resetPasswordError.length > 0) {\r\n            setErrors(resetPasswordError);\r\n        }\r\n    }, [resetPasswordError])\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        dispatch(resetPassword({ email }));\r\n    }\r\n    \r\n        const configAuthWrapper = {\r\n            headline: 'Email Password'\r\n\r\n        };\r\n\r\n        return (\r\n            <AuthWrapper {...configAuthWrapper}>\r\n                <div className=\"formWrap\">\r\n\r\n                    {errors.length > 0 && (\r\n                        <ul>\r\n                            {errors.map((e,index) => {\r\n                                return (\r\n                                   <li key={index}>\r\n                                    {e}\r\n                                   </li> \r\n                                );\r\n                            })}\r\n                        </ul>\r\n                    )}\r\n\r\n\r\n                    <form onSubmit={handleSubmit}>\r\n\r\n                    <FormInput\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        value={email}\r\n                        placeholder=\"Email\"\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    />\r\n\r\n                    <Button type=\"submit\">\r\n                        Email Password\r\n                    </Button>\r\n\r\n                    </form>\r\n                </div>\r\n            </AuthWrapper>\r\n        );\r\n    }\r\n\r\nexport default withRouter(EmailPassword);","import React from 'react';\r\nimport EmailPassword from './../../components/EmailPassword';\r\n\r\nconst Recovery = props => {\r\n    return <EmailPassword />\r\n}\r\n\r\nexport default Recovery;","import React from 'react';\r\nimport './styles.scss';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\nimport 'firebase/auth';\r\n// import { firestore, auth, userIdRef } from './../../firebase/utils';\r\nimport { useState, useEffect } from 'react';\r\nimport { firebaseConfig } from '../../firebase/config';\r\nimport { useSelector } from 'react-redux';\r\nimport 'firebase/auth';\r\n\r\n// const firebase = require('firebase')\r\n// require('firebase/storage')\r\n\r\n\r\n\r\nconst db = firebaseConfig.firestore();\r\nconst projectFirestore = firebase.firestore();\r\n\r\nexport const Dashboard = ({user, props}) => {\r\n    const [fileUrl, setFileUrl] = useState(null);\r\n    \r\n\r\n    const mapState = ({ user }) => ({\r\n        currentUser: user.currentUser\r\n    })\r\n    const { currentUser } = useSelector(mapState);\r\n\r\n    const id = currentUser.id;\r\n    const name = currentUser.displayName;\r\n    const bioUser = currentUser.bio;\r\n    console.log(id, 'current user')\r\n\r\n    const [bio, setBio] = useState(bioUser);\r\n\r\n    const collectionRef = projectFirestore.collection('users').doc(id);\r\n\r\n    const [usersFire, setUsersFire] = useState([]);\r\n    // const [url, setUrl] = useState(\"\");\r\n    // const [progress, setProgress] = useState(0);\r\n    const [progress, setProgress] = useState(0);\r\n    const [error, setError] = useState(null);\r\n    const [url, setUrl] = useState(null);\r\n    const [file, setFile ] = useState(null);\r\n    const [reviews, setReviewsFiles ] = useState([]);\r\n    \r\n    var userInfo = firebase.auth().currentUser;\r\n    console.log(userInfo, 'auth user info')\r\n\r\n    var userName, userEmail, userRole, userDate;\r\n\r\n    if (userInfo != null) {\r\n        userName = userInfo.displayName\r\n        userEmail = userInfo.email\r\n        userRole = userInfo.userRoles\r\n        userDate = userInfo.createdDate\r\n    } \r\n\r\n    const onFileChange = async (e) => {\r\n        const file = e.target.files[0];\r\n        const storageRef = firebaseConfig.storage().ref();\r\n        const fileRef = storageRef.child(file.name);\r\n        await fileRef.put(file);\r\n        setFile(await fileRef.getDownloadURL());\r\n    };\r\n\r\n    const onSubmit = async (e) => {\r\n        e.preventDefault();\r\n        window.location.reload(false);\r\n        if(!file) {\r\n            return;\r\n        }\r\n        await db.collection(\"users\").doc(id).update({\r\n            image: file,\r\n        });\r\n    };\r\n\r\n    const onBioChange = () => {\r\n        // window.location.reload(false);\r\n        db.collection('users').doc(id).update({   \r\n          bio : bio,\r\n        })\r\n      }\r\n\r\n    useEffect(() => {\r\n        const fetchUsers = async () => {\r\n            const userWant = await db.collection(\"users\").where(\"displayName\", \"==\", name)\r\n            .get()\r\n            setUsersFire (\r\n                userWant.docs.map((doc) => {\r\n                    return doc.data();\r\n                })\r\n                \r\n            );console.log(userWant, 'heyyyyyy')\r\n        };\r\n        fetchUsers();\r\n    }, []);\r\n    \r\n    useEffect(() => {\r\n        const fetchReviews = async () => {\r\n            const userGet = await db.collection(\"reviews\").where(\"uid\", \"==\", id)\r\n            .get()\r\n            setReviewsFiles (\r\n                userGet.docs.map((doc) => {\r\n                    return doc.data();\r\n                })\r\n                \r\n            );\r\n        };\r\n        fetchReviews();\r\n    }, []);\r\n\r\n    console.log(usersFire, 'gghh')\r\n\r\n    console.log(reviews, 'posytttttttttt')\r\n\r\n    return (\r\n        <div className=\"mt-4\">\r\n             <h1 className=\"title is-1 has-text-centered box has-backgroud-info-light\"> Your Profile </h1>\r\n            {/* { progress, url, error } */}\r\n            <div className=\" grid-container mb-3 card card-content has-text-centered has-background-info-light \">\r\n                <div className=\"box\">\r\n                <p className=\" mt-3\">Name : {userName}</p>\r\n                <p className=\" mb-3 mt-5\"> Email : {userEmail}</p>\r\n                </div>\r\n                <br />\r\n                <br />\r\n                \r\n                \r\n                <ul>\r\n                    {usersFire.map((fire) => {\r\n                        return(\r\n                            <li key={fire.name}>\r\n                                <p className=\"mt-4 mb-2\"></p>\r\n                                <img className=\" imageShow is-rounded\" width=\"200\" height=\"200\" src={fire.image} alt={fire.name} />\r\n                            </li>\r\n                        );\r\n                    })}\r\n                </ul>\r\n\r\n                <form onSubmit={onSubmit}>\r\n                <input className=\" fileButton button is-link is-light-red is-medium is-outlined mt-4\" type=\"file\" onChange={onFileChange} />\r\n                <button className=\" submitButton button is-primary is-light is-medium is-outlined mt-4\">Save</button>\r\n                </form>\r\n\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                <textarea  className=\"biobox pa-3\" rows=\"1\" maxLength=\"175\"\r\n                value={bio}\r\n                onChange={e => {\r\n                  setBio(e.target.value);\r\n                }}\r\n              />\r\n              <button className=\" button is-primary is-pulled-center is-medium mt-4\" onClick={onBioChange}>Update Bio</button>\r\n                \r\n                {/* <p>{toString(userDate)}</p>\r\n                <p>{userRole}</p> */}\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                \r\n                <br/>\r\n                \r\n            </div>\r\n\r\n            <br/>\r\n                <br/>\r\n            <h1 className=\"title is-1\">Reviews</h1>\r\n            <br/>\r\n            <div className=\"box is-divider\" >\r\n                {reviews.map((review) => {\r\n                        return(\r\n                            <div>\r\n                                <br/>\r\n                            <div className=\"pt-3 pb-3 postsList title is-3\">{review.movie} </div>\r\n                            <p className=\"captionPost \">{review.review}</p>\r\n                            <br/>\r\n                            </div>\r\n                        );\r\n                    })}\r\n                    </div>\r\n            <div>\r\n                \r\n            </div>\r\n            \r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Dashboard;","import React from \"react\";\r\nimport \"./styles.scss\";\r\nimport firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport { firestore, auth, userIdRef } from \"./../../firebase/utils\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport const UpdateName = ({ user, users, props }) => {\r\n  const [displayName, setName] = useState(user.displayName);\r\n  const [userNames, setNameUser] = useState(user.displayName);\r\n  const [email, setEmail] = useState(user.email);\r\n  const [showing, setShowing] = useState(false);\r\n  const [userNewNames, setNewNameUser] = useState(0);\r\n  // const [userCurrentRoles, setRoles] = useState(user.userRoles);\r\n\r\n  const [ids, setIds] = useState([]);\r\n  console.log(displayName, \"nammeee\");\r\n  console.log(user, \"user name object\");\r\n\r\n  const ii = user.displayName;\r\n\r\n  console.log(userNames, \"gwgwgwgwg\");\r\n\r\n  // useEffect(() => {\r\n  //   for (let i = 0; i < 30; i++) {\r\n  //     setTimeout(() => {\r\n  //       setNewNameUser(i);\r\n  //     }, 5000);\r\n  //   }\r\n  //   return userNewNames;\r\n  // }, []);\r\n\r\n  // const getTheUsernames = () => {\r\n  //   for (let i = 0; i < userNames.length; i++) {\r\n  //     const name = userNames[i];\r\n  //     setNewNameUser(i);\r\n  //   }\r\n  //   return userNewNames;\r\n  // };\r\n\r\n  console.log(userNewNames, \"haahahahahah\");\r\n\r\n  const onUpdate = () => {\r\n    firestore\r\n      .collection(\"users\")\r\n      .doc(user.id)\r\n      .set({ ...user, displayName });\r\n    if (userNames === user.displayName) {\r\n      setShowing(false);\r\n    } else {\r\n      setShowing(true);\r\n    }\r\n  };\r\n  console.log(showing, \"true or not true\");\r\n\r\n  const onUpdateEmail = () => {\r\n    firestore\r\n      .collection(\"users\")\r\n      .doc(user.id)\r\n      .set({ ...user, email });\r\n  };\r\n\r\n  const onDelete = () => {\r\n    const db = firebase.firestore();\r\n    db.collection(\"users\").doc(user.id).delete();\r\n  };\r\n\r\n  const onUpdateRoles = () => {\r\n    const db = firebase.firestore();\r\n    db.collection(\"users\")\r\n      .doc(user.id)\r\n      .update({\r\n        userRoles: firebase.firestore.FieldValue.arrayUnion(\"user\", \"admin\"),\r\n      });\r\n  };\r\n\r\n  const onRemoveRoles = () => {\r\n    const db = firebase.firestore();\r\n    db.collection(\"users\")\r\n      .doc(user.id)\r\n      .update({\r\n        userRoles: firebase.firestore.FieldValue.arrayRemove(\"admin\"),\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const db = firebase.firestore();\r\n      const data = await db.collection(\"users\").get();\r\n      setNameUser(\r\n        data.docs.map((doc) => ({ ...doc.data(), username: doc.displayName }))\r\n      );\r\n      console.log(data, \"indeed\");\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // const onDelete = (id) => {\r\n  //   firestore.collection('users').doc(id).delete();\r\n  // }\r\n\r\n  return (\r\n    <div className=\"  \">\r\n      <div className=\"card card-content content  \">\r\n        <header className=\"card card-content content mb-3 title has-background-primary-light\">\r\n          {\" \"}\r\n          Current Name : {!displayName\r\n            ? \"no username \"\r\n            : displayName} <br /> <br /> Email:{\" \"}\r\n          {!email ? \"no email\" : user.email}\r\n          <br />\r\n          <br />\r\n          Roles : {(user ? \"\" : \",  \") + user.userRoles}\r\n        </header>\r\n\r\n        {/* <th><abbr title=\"name\">current name</abbr></th> */}\r\n\r\n        <div className=\"\">\r\n          <div className=\"card card-content content \">\r\n            <div>\r\n              <div className=\"field\">\r\n                <label className=\"label\">Username</label>\r\n                <div className=\"control  is-large\">\r\n                  {\r\n                    <input\r\n                      className=\"input is-success is-large\"\r\n                      type=\"text\"\r\n                      placeholder=\"Text input\"\r\n                      value={displayName}\r\n                      onChange={(e) => {\r\n                        setName(e.target.value);\r\n                      }}\r\n                    />\r\n                  }\r\n                  <span className=\"\">\r\n                    <i className=\"fas fa-user\"></i>\r\n                  </span>\r\n                  <span className=\"\">\r\n                    <i className=\"fas fa-check\"></i>\r\n                  </span>\r\n                </div>\r\n\r\n                {(() => {\r\n                  if (\r\n                    displayName === user.displayName ||\r\n                    displayName.includes(userNames.toString())\r\n                  ) {\r\n                    return (\r\n                      <div>\r\n                        <p className=\"help is-danger is-size-6\">\r\n                          This is current username or is already taken{\" \"}\r\n                        </p>\r\n                      </div>\r\n                    );\r\n                  } else if (!displayName) {\r\n                    return (\r\n                      <div>\r\n                        <p className=\"help is-danger is-size-6\">\r\n                          Please enter username!{\" \"}\r\n                        </p>\r\n                      </div>\r\n                    );\r\n                  } else if (\r\n                    displayName != user.displayName &&\r\n                    displayName.length >= 5\r\n                  ) {\r\n                    return (\r\n                      <div>\r\n                        <p className=\"help is-success is-size-6\">\r\n                          This username is avaiable{\" \"}\r\n                        </p>\r\n                        <button\r\n                          className=\"button is-success is-pulled-right is-medium\"\r\n                          onClick={onUpdate}\r\n                        >\r\n                          Update Name\r\n                        </button>\r\n                      </div>\r\n                    );\r\n                  } else if (\r\n                    displayName != user.displayName &&\r\n                    displayName.length < 5\r\n                  ) {\r\n                    return (\r\n                      <div>\r\n                        <p className=\"help is-danger is-size-6\">\r\n                          {\" \"}\r\n                          Username has to contain atleast 5 characters!{\" \"}\r\n                        </p>\r\n                      </div>\r\n                    );\r\n                    // } else if (displayName === userNames[i].displayName) {\r\n                    return (\r\n                      <div>\r\n                        <p class=\"help is-success\">\r\n                          {\" \"}\r\n                          This username is not available!{\" \"}\r\n                        </p>\r\n                      </div>\r\n                    );\r\n                  }\r\n                })()}\r\n              </div>\r\n\r\n              <br />\r\n              <br />\r\n\r\n              <div className=\"field\">\r\n                <label className=\"label\">Username</label>\r\n                <div className=\"control  is-large\">\r\n                  {\r\n                    <input\r\n                      className=\"input is-info is-hovered is-large\"\r\n                      type=\"email\"\r\n                      placeholder=\"Email Input\"\r\n                      value={email}\r\n                      onChange={(e) => {\r\n                        setEmail(e.target.value);\r\n                      }}\r\n                    />\r\n                  }\r\n                  <span className=\"\">\r\n                    <i className=\"fas fa-user\"></i>\r\n                  </span>\r\n                  <span className=\"\">\r\n                    <i className=\"fas fa-check\"></i>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              {(() => {\r\n                if (email === user.email) {\r\n                  return (\r\n                    <div>\r\n                      <p className=\"help is-danger is-size-6\">\r\n                        This is current email or isnt available{\" \"}\r\n                      </p>\r\n                    </div>\r\n                  );\r\n                } else if (!email) {\r\n                  return (\r\n                    <div>\r\n                      <p className=\"help is-danger is-size-6\">\r\n                        Please enter email!{\" \"}\r\n                      </p>\r\n                    </div>\r\n                  );\r\n                } else if (email.includes(\"@\" + \"gmail\" + \".com\")) {\r\n                  return (\r\n                    <div>\r\n                      <p className=\"help is-success is-size-6\">\r\n                        This username is avaiable{\" \"}\r\n                      </p>\r\n                      <button\r\n                        className=\"button is-success is-pulled-right is-medium\"\r\n                        onClick={onUpdateEmail}\r\n                      >\r\n                        Update Email\r\n                      </button>\r\n                    </div>\r\n                  );\r\n                } else if (!email.includes(\"@\" + \"gmail\" + \".com\")) {\r\n                  return (\r\n                    <div>\r\n                      <p className=\"help is-danger is-size-6\">\r\n                        Email must include \"@\", \"gmail\", and \".com\"!\r\n                      </p>\r\n                    </div>\r\n                  );\r\n\r\n                  return (\r\n                    <div>\r\n                      <p class=\"help is-success\">\r\n                        {\" \"}\r\n                        This username is not available!{\" \"}\r\n                      </p>\r\n                    </div>\r\n                  );\r\n                }\r\n              })()}\r\n\r\n              <br />\r\n\r\n              <div>\r\n                <button\r\n                  className=\"button is-danger is-large mr-3\"\r\n                  onClick={onDelete}\r\n                >\r\n                  Remove\r\n                </button>\r\n                <button\r\n                  className=\"button is-info is-large mr-3\"\r\n                  onClick={onUpdateRoles}\r\n                >\r\n                  make admin\r\n                </button>\r\n\r\n                <button\r\n                  className=\"button is-warning is-large mr-3\"\r\n                  onClick={onRemoveRoles}\r\n                >\r\n                  remove admin\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            <br />\r\n            {/* <button className=\"button is-danger is-medium\" onClick={() => onDelete(user.ids)}>Delete User</button> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UpdateName;\r\n","import React from 'react';\r\nimport './styles.scss';\r\nimport { firestore, auth, userIdRef } from '../../firebase/utils';\r\nimport { UpdateName } from \"./UpdateName\";\r\nimport { Dashboard } from \"../Dashboard/index\";\r\nimport firebase from 'firebase/app';\r\n\r\n// class Admin extends React.Component {\r\n//     constructor(){\r\n//         super()\r\n//         this.state = {\r\n//             users: null,\r\n//             showForm: false,\r\n//             date: \"\",\r\n//             newName: \"\",\r\n//             newEmail: \"\",\r\n//             submitted: false,\r\n//             userId: '',\r\n//             search: '',\r\n\r\n//     }\r\n// }\r\n\r\n\r\n\r\n// componentDidMount(){\r\n//     console.log('mounted')\r\n//     firestore.collection('users')\r\n//     .get()\r\n//     .then( snapshot => {\r\n//         const users = []\r\n//         const userId = ''\r\n//         snapshot.forEach( doc => {\r\n//             const id = doc.id\r\n//             const data = doc.data()\r\n//             users.push(data, id)\r\n\r\n//             console.log(id, 'indeed')\r\n//         })\r\n//         this.setState({users: users})\r\n//         console.log(users, 'oioi')\r\n//         console.log(userId, 'get the ids')\r\n//     })\r\n//     .catch(error => console.log(error))\r\n\r\n// }\r\n\r\n// removeUser = (id) => {\r\n//     firestore.collection('users').doc(id).delete().then(() => {\r\n//         console.log('successful')\r\n//     })\r\n// }\r\n\r\n// // updateUser = (users, displayName) => {\r\n// //     firestore.collection('users').doc(users).set({\r\n// //         ...users, displayName\r\n// //     });\r\n// // }\r\n\r\n// // onChangeName(e) {\r\n// //     this.setState({\r\n// //       newName: e.target.value,\r\n// //     });\r\n// //   }\r\n\r\n// // saveNewData() {\r\n// //     this.setState ({\r\n// //         newName: this.state.newName\r\n// //       });\r\n// // }\r\n\r\n\r\n\r\n\r\n// showForm = (bool) => {\r\n//     this.setState({\r\n//         showForm: bool\r\n//     });\r\n// };\r\n    \r\n\r\n\r\n// // onChange = e => {\r\n// //     this.state ({ search: e.target.value});\r\n// // };\r\n\r\nfunction Users() {\r\n    const [users, setUsers] = React.useState([]);\r\n    \r\n  \r\n    React.useEffect(() => {\r\n      const fetchData = async () => {\r\n        const db = firebase.firestore();\r\n        const data = await db.collection(\"users\").get();\r\n        setUsers(data.docs.map(doc => ({ ...doc.data(), id: doc.id })));\r\n      };\r\n      fetchData();\r\n    }, []);\r\n\r\n\r\n    \r\n    return (\r\n        <ul className= \"mb-3 mt-5 card card-content content has-background-link-light\">\r\n          {users.map(user => (\r\n              <div>\r\n            <li className=\"list\" key={user.displayName, user.email, user}>\r\n                            <br/>\r\n                        <UpdateName user={user} users={users} />\r\n                        </li>\r\n            \r\n            </div>\r\n          ))}\r\n          \r\n        </ul>\r\n      );\r\n    }\r\n\r\n    \r\n\r\n\r\n\r\n \r\n\r\n\r\nexport default Users;","import React from \"react\";\r\nimport firebase from 'firebase/app';\r\n\r\nexport const PostList = ({ review }) => {\r\n\r\n\r\n  const onDelete = () => {\r\n    const db = firebase.firestore()\r\n    db.collection('reviews').doc(review.id).delete()\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"card card-content content box\">\r\n        <div className=\"box\">{review.username} : {review.review}</div>\r\n      <button className=\"button is-danger is-medium\" onClick={onDelete}>Delete</button>\r\n      </div>\r\n    </>\r\n  );\r\n};","import React from \"react\";\r\nimport \"./styles.scss\";\r\nimport firebase from 'firebase/app';\r\nimport { PostList } from \"./PostList\";\r\n\r\nfunction Posts() {\r\n  const [reviews, setReviews] = React.useState([]);\r\n  \r\n\r\n  React.useEffect(() => {\r\n    const fetchData = async () => {\r\n      const db = firebase.firestore();\r\n      const data = await db.collection(\"reviews\").get();\r\n      setReviews(data.docs.map(doc => ({ ...doc.data(), id: doc.id })));\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  \r\n\r\n  return (\r\n    <ul>\r\n      {reviews.map(review => (\r\n          <div>\r\n        <li key={review.username}>\r\n          <PostList review={review} />\r\n        </li>\r\n        \r\n        </div>\r\n      ))}\r\n      \r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default Posts;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { auth, handleUserProfile } from './firebase/utils';\nimport { setCurrentUser } from './redux/User/user.actions';\n\n//Chris's stuff\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport \"./App.css\";\nimport ShowAllReviews from './ShowAllReviews'\nimport NavBar from './NavBar'\nimport Viewings2 from './Viewings2'\n\n// components\nimport AdminToolbar from './components/AdminToolbar';\n\n//hoc\nimport WithAuth from './hoc/withAuth';\nimport WithAdminAuth from './hoc/withAdminAuth';\n\n// layouts\n\nimport MainLayout from './layouts/MainLayout';\nimport HomepageLayout from './layouts/HomepageLayout';\n\n\n\n//pages\n\nimport Homepage from './pages/Homepage';\nimport Registration from './pages/Registration';\nimport Login from './pages/Login';\nimport Recovery from './pages/Recovery';\nimport Dashboard from './pages/Dashboard';\nimport Admin from './pages/Admin';\nimport Posts from './pages/Posts';\n\nimport './default.scss';\nimport withAuth from './hoc/withAuth';\n\nconst App = props => {\n  const [user, setUser] = useState([]);\n\n  const dispatch = useDispatch(); \n  const userAuth = (\"\");\n\n    useEffect(() => {\n      const authListener = auth.onAuthStateChanged(async userAuth => {\n        if (userAuth) {\n          const userRef = await handleUserProfile(userAuth);\n          userRef.onSnapshot(snapshot => {\n            dispatch(setCurrentUser({\n              id: snapshot.id,\n              ...snapshot.data()\n            }));\n          })\n        }\n\n      dispatch(setCurrentUser(userAuth)); \n  });\n\n    return () => {\n      authListener();\n    };\n  }, []);\n\n    return(\n      <div className=\"App\">\n        <AdminToolbar />\n          <Switch>\n            <Route exact path=\"/filmhub-deploy\" render={() => (\n              <HomepageLayout>\n                <NavBar/>\n                <Homepage />\n              </HomepageLayout>\n  \n            )} />\n            <Route path=\"/registration\"  render={() => (\n              <MainLayout>\n                <Registration />\n              </MainLayout>\n  \n            )}/>  \n            <Route path=\"/login\"\n              render={() =>  (\n                <MainLayout>\n                  <NavBar/>\n                  <Login />\n                </MainLayout>\n    \n              )}/> \n\n              <Route path=\"/recovery\" render={() => (\n                <MainLayout>\n                  <NavBar/>\n                  <Recovery />\n                </MainLayout>\n              )} />\n\n              <Route path=\"/dashboard\" render={() => (\n                <WithAuth>\n                <MainLayout>\n                <NavBar/>\n                  <Dashboard />\n                </MainLayout>\n                </WithAuth>\n              )} />\n\n              <Route path=\"/admin\" render={() => (\n                <WithAdminAuth>\n                <MainLayout>\n                <NavBar/>\n                  <Admin />\n                </MainLayout>\n                </WithAdminAuth>\n              )} />\n\n<Route path=\"/posts\" render={() => (\n                <WithAdminAuth>\n                <MainLayout>\n                <NavBar/>\n                  <Posts />\n                </MainLayout>\n                </WithAdminAuth>\n              )} />\n{/* \n              <Route path=\"/yooo\" render={() => (\n                <Viewings />\n              )} /> */}\n\n              <Route path=\"/filmhub-deploy/reviews\">\n                <div className=\"navbarStick\">\n                <NavBar/>\n                <HomepageLayout>\n              <div className=\"app__page\">\n                <div className=\"app__posts\">\n                  <ShowAllReviews user={user} />\n                </div>\n              </div>\n              </HomepageLayout>\n              </div>\n\n            </Route>\n\n            <Route path=\"/showings\">            \n             <div className=\"navbarStick\">\n                <NavBar/>\n                <HomepageLayout>\n              <Viewings2 />\n              </HomepageLayout>\n              </div>\n            </Route>\n   \n          </Switch>\n       \n      </div>\n    );  \n  }\n  \nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux';\nimport store from './redux/createStore';\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}